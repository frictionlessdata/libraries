<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.72">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Frictionless Libraries Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Frictionless Libraries Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Frictionless Libraries" href="/opensearch.xml">
<link key="docusaurus-plugin-plausible-preconnect" rel="preconnect" href="https://plausible.io">
<script key="docusaurus-plugin-plausible-script" async defer="defer" data-domain="libraries.frictionlessdata.io" src="https://plausible.io/js/plausible.js"></script>
<script key="docusaurus-plugin-plausible-custom-events">window.plausible=window.plausible||function(){(window.plausible.q=window.plausible.q||[]).push(arguments)}</script><title data-react-helmet="true">datapackage-r | Frictionless Libraries</title><meta data-react-helmet="true" property="og:image" content="https://libraries.frictionlessdata.io/img/docusaurus.png"><meta data-react-helmet="true" name="twitter:image" content="https://libraries.frictionlessdata.io/img/docusaurus.png"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://libraries.frictionlessdata.io/docs/data-package/rlang"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="datapackage-r | Frictionless Libraries"><meta data-react-helmet="true" name="description" content="CRAN\Status\Badge"><meta data-react-helmet="true" property="og:description" content="CRAN\Status\Badge"><link data-react-helmet="true" rel="shortcut icon" href="/img/logo.png"><link data-react-helmet="true" rel="canonical" href="https://libraries.frictionlessdata.io/docs/data-package/rlang"><link data-react-helmet="true" rel="alternate" href="https://libraries.frictionlessdata.io/docs/data-package/rlang" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://libraries.frictionlessdata.io/docs/data-package/rlang" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.74ffa445.css">
<link rel="preload" href="/assets/js/styles.45e1f58c.js" as="script">
<link rel="preload" href="/assets/js/runtime~main.b4e7728f.js" as="script">
<link rel="preload" href="/assets/js/main.06225ccf.js" as="script">
<link rel="preload" href="/assets/js/1.74f8a88b.js" as="script">
<link rel="preload" href="/assets/js/2.5cb85993.js" as="script">
<link rel="preload" href="/assets/js/36.7e2d7ab1.js" as="script">
<link rel="preload" href="/assets/js/935f2afb.dde02562.js" as="script">
<link rel="preload" href="/assets/js/17896441.a1f31e75.js" as="script">
<link rel="preload" href="/assets/js/d7450057.9ed5caea.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_RReh"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Frictionless Libraries Logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/img/logo.png" alt="Frictionless Libraries Logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><strong class="navbar__title">Frictionless Libraries</strong></a><a class="navbar__item navbar__link" href="/docs/table-schema/python">Table Schema</a><a class="navbar__item navbar__link" href="/docs/data-package/python">Data Package</a><a class="navbar__item navbar__link" href="/docs/other-libraries/frictionless-ckan-mapper">Other Libraries</a><a class="navbar__item navbar__link" href="/docs/status">Status</a></div><div class="navbar__items navbar__items--right"><a href="https://frictionlessdata.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-mainsite-link">Back to the main site</a><a href="https://github.com/frictionlessdata/libraries" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_cxYs"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_iYfV">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_iYfV">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Frictionless Libraries Logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/img/logo.png" alt="Frictionless Libraries Logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><strong class="navbar__title">Frictionless Libraries</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/table-schema/python">Table Schema</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/data-package/python">Data Package</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/other-libraries/frictionless-ckan-mapper">Other Libraries</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/status">Status</a></li><li class="menu__list-item"><a href="https://frictionlessdata.io/" target="_blank" rel="noopener noreferrer" class="menu__link header-mainsite-link">Back to the main site</a></li><li class="menu__list-item"><a href="https://github.com/frictionlessdata/libraries" target="_blank" rel="noopener noreferrer" class="menu__link header-github-link" aria-label="GitHub repository"></a></li></ul></div></div></div></nav><div class="main-wrapper main-docs-wrapper"><div class="docPage_lDyR"><div class="docSidebarContainer_0YBq" role="complementary"><div class="sidebar_a3j0 sidebarWithHideableNavbar_VlPv"><a tabindex="-1" class="sidebarLogo_hmkv" href="/"><img src="/img/logo.png" alt="Frictionless Libraries Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo.png" alt="Frictionless Libraries Logo" class="themedImage_TMUO themedImage--dark_uzRr"><strong>Frictionless Libraries</strong></a><div class="menu menu--responsive thin-scrollbar menu_cyFh"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_iZzd" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/data-package/python">datapackage-py</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/data-package/javascript">datapackage-js</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/data-package/ruby">datapackage-rb</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/data-package/php">datapackage-php</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/data-package/java">datapackage-java</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/data-package/go">datapackage-go</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" href="/docs/data-package/rlang">datapackage-r</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/data-package/julia">datapackage-jl</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/data-package/swift">datapackage-swift</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/data-package/clojure">datapackage-clj</a></li></ul></div></div></div><main class="docMainContainer_r8cw"><div class="container padding-vert--lg docItemWrapper_NJLN"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><header><h1 class="docTitle_-X99">datapackage-r</h1></header><div class="markdown"><p><a href="https://cran.r-project.org/package=datapackage.r" target="_blank" rel="noopener noreferrer"><img src="https://www.r-pkg.org/badges/version/datapackage.r" alt="CRAN_Status_Badge"></a>
<a href="https://travis-ci.org/frictionlessdata/datapackage-r" target="_blank" rel="noopener noreferrer"><img src="https://travis-ci.org/frictionlessdata/datapackage-r.svg?branch=master" alt="Build Status"></a>
<a href="https://coveralls.io/github/frictionlessdata/datapackage-r?branch=master" target="_blank" rel="noopener noreferrer"><img src="https://coveralls.io/repos/github/frictionlessdata/datapackage-r/badge.svg?branch=master" alt="Coverage Status"></a>
<a href="http://www.repostatus.org/#active" target="_blank" rel="noopener noreferrer"><img src="http://www.repostatus.org/badges/latest/active.svg" alt="Project Status: Active â€“ The project has reached a stable, usable state but is no longer being actively developed; support/maintenance will be provided as time allows."></a>
<a href="https://cran.r-project.org/" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/badge/R%3E%3D-3.6-6666ff.svg" alt="minimal R version"></a>
<a href="http://cran.rstudio.com/web/packages/datapackage.r/index.html" target="_blank" rel="noopener noreferrer"><img src="http://cranlogs.r-pkg.org/badges/grand-total/datapackage.r" alt="Stats"></a>
<a href="https://opensource.org/licenses/MIT" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/badge/licence-MIT-blue.svg" alt="Licence"></a>
<a href="https://github.com/frictionlessdata/datapackage-r" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/badge/codebase-github-brightgreen" alt="Codebase"></a>
<a href="https://discordapp.com/invite/Sewv6av" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/badge/support-discord-brightgreen" alt="Support"></a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="description"></a>Description<a class="hash-link" href="#description" title="Direct link to heading">#</a></h2><p>R package for working with <a href="https://specs.frictionlessdata.io/data-package/" target="_blank" rel="noopener noreferrer">Frictionless Data
Package</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="features"></a>Features<a class="hash-link" href="#features" title="Direct link to heading">#</a></h3><ul><li><code>Package</code> class for working with data packages</li><li><code>Resource</code> class for working with data resources</li><li><code>Profile</code> class for working with profiles</li><li><code>validate</code> function for validating data package descriptors</li><li><code>infer</code> function for inferring data package descriptors</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="getting-started"></a>Getting started<a class="hash-link" href="#getting-started" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="installation"></a>Installation<a class="hash-link" href="#installation" title="Direct link to heading">#</a></h3><p>In order to install the latest distribution of <a href="https://www.r-project.org/" target="_blank" rel="noopener noreferrer">R
software</a> to your computer you have to
select one of the mirror sites of the <a href="https://cran.r-project.org//" target="_blank" rel="noopener noreferrer">Comprehensive R Archive
Network</a>, select the appropriate link for
your operating system and follow the wizard instructions.</p><p>For windows users you can:</p><ol><li>Go to CRAN</li><li>Click download R for Windows</li><li>Click Base (This is what you want to install R for the first time)</li><li>Download the latest R version</li><li>Run installation file and follow the instrustions of the installer.</li></ol><p>(Mac) OS X and Linux users may need to follow different steps depending
on their system version to install R successfully and it is recommended
to read the instructions on CRAN site carefully.</p><p>Even more detailed installation instructions can be found in <a href="https://cran.r-project.org/doc/manuals/R-admin.html" target="_blank" rel="noopener noreferrer">R
Installation and Administration
manual</a>.</p><p>To install <a href="https://www.rstudio.com/" target="_blank" rel="noopener noreferrer">RStudio</a>, you can download
<a href="https://www.rstudio.com/products/rstudio/download/" target="_blank" rel="noopener noreferrer">RStudio Desktop</a>
with Open Source License and follow the wizard instructions:</p><ol><li>Go to <a href="https://www.rstudio.com/products/rstudio/" target="_blank" rel="noopener noreferrer">RStudio</a></li><li>Click download on RStudio Desktop</li><li>Download on RStudio Desktop free download</li><li>Select the appropriate file for your system</li><li>Run installation file</li></ol><p>To install the <code>datapackage</code> package it is necessary to install first
<a href="https://cran.r-project.org/package=devtools" target="_blank" rel="noopener noreferrer">devtools package</a> to make
installation of github packages available.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain"># Install devtools package if not already</span></div><div class="token-line" style="color:#393A34"><span class="token plain">install.packages(&quot;devtools&quot;)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Install <code>datapackage.r</code></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain"># And then install the development version from github</span></div><div class="token-line" style="color:#393A34"><span class="token plain">devtools::install_github(&quot;frictionlessdata/datapackage-r&quot;)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="load-package"></a>Load package<a class="hash-link" href="#load-package" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain"># load the package using</span></div><div class="token-line" style="color:#393A34"><span class="token plain">library(datapackage.r)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="examples"></a>Examples<a class="hash-link" href="#examples" title="Direct link to heading">#</a></h2><p>Code examples in this readme requires R 3.3 or higher, You could see
even more
<a href="https://github.com/frictionlessdata/datapackage-r/tree/master/vignettes" target="_blank" rel="noopener noreferrer">examples</a>
in vignettes directory.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">descriptor &lt;- &#x27;{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  &quot;resources&quot;: [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      &quot;name&quot;: &quot;example&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      &quot;profile&quot;: &quot;tabular-data-resource&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      &quot;data&quot;: [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        [&quot;height&quot;, &quot;age&quot;, &quot;name&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        [180, 18, &quot;Tony&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        [192, 32, &quot;Jacob&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      ],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      &quot;schema&quot;:  {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        &quot;fields&quot;: [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">          {&quot;name&quot;: &quot;height&quot;, &quot;type&quot;: &quot;integer&quot; },</span></div><div class="token-line" style="color:#393A34"><span class="token plain">          {&quot;name&quot;: &quot;age&quot;, &quot;type&quot;: &quot;integer&quot; },</span></div><div class="token-line" style="color:#393A34"><span class="token plain">          {&quot;name&quot;: &quot;name&quot;, &quot;type&quot;: &quot;string&quot; }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        ]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  ]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}&#x27;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">dataPackage &lt;- Package.load(descriptor)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">dataPackage</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">## &lt;Package&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   Public:</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     addResource: function (descriptor)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     clone: function (deep = FALSE)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     commit: function (strict = NULL)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     descriptor: active binding</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     errors: active binding</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     getResource: function (name)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     infer: function (pattern)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     initialize: function (descriptor = list(), basePath = NULL, strict = FALSE,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     profile: active binding</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     removeResource: function (name)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     resourceNames: active binding</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     resources: active binding</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     save: function (target, type = &quot;json&quot;)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     valid: active binding</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   Private:</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     basePath_: C:/Users/akis_/Documents/datapackage-r</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     build_: function ()</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     currentDescriptor_: list</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     currentDescriptor_json: NULL</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     descriptor_: NULL</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     errors_: list</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     nextDescriptor_: list</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     pattern_: NULL</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     profile_: Profile, R6</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     resources_: list</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     resources_length: NULL</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     strict_: FALSE</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">resource &lt;- dataPackage$getResource(&#x27;example&#x27;)</span></div><div class="token-line" style="color:#393A34"><span class="token plain"># convert to json and add indentation with jsonlite prettify function</span></div><div class="token-line" style="color:#393A34"><span class="token plain">jsonlite::prettify(helpers.from.list.to.json(resource$read()))</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">## [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##         180,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##         18,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##         &quot;Tony&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     ],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##         192,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##         32,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##         &quot;Jacob&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     ]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">## ]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="documentation"></a>Documentation<a class="hash-link" href="#documentation" title="Direct link to heading">#</a></h2><p>Json objects are not included in R base data types. <a href="https://CRAN.R-project.org/package=jsonlite" target="_blank" rel="noopener noreferrer">Jsonlite
package</a> is internally used
to convert json data to list objects. The input parameters of functions
could be json strings, files or lists and the outputs are in list format
to easily further process your data in R environment and exported as
desired. The examples below show how to use jsonlite package to convert
the output back to json adding indentation whitespace. More details
about handling json you can see jsonlite documentation or vignettes
<a href="https://CRAN.R-project.org/package=jsonlite" target="_blank" rel="noopener noreferrer">here</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="working-with-package"></a>Working with Package<a class="hash-link" href="#working-with-package" title="Direct link to heading">#</a></h3><p>A class for working with data packages. It provides various capabilities
like loading local or remote data package, inferring a data package
descriptor, saving a data package descriptor and many more.</p><p>Consider we have some local <code>csv</code> files in a <code>data</code> directory. Letâ€™s
create a data package based on this data using a <code>Package</code> class:</p><blockquote><p>inst/extdata/readme_example/cities.csv</p></blockquote><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">city,location</span></div><div class="token-line" style="color:#393A34"><span class="token plain">london,&quot;51.50,-0.11&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">paris,&quot;48.85,2.30&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">rome,&quot;41.89,12.51&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><blockquote><p>inst/extdata/readme_example/population.csv</p></blockquote><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">city,year,population</span></div><div class="token-line" style="color:#393A34"><span class="token plain">london,2017,8780000</span></div><div class="token-line" style="color:#393A34"><span class="token plain">paris,2017,2240000</span></div><div class="token-line" style="color:#393A34"><span class="token plain">rome,2017,2860000</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>First we create a blank data package:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">dataPackage &lt;- Package.load()</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Now weâ€™re ready to infer a data package descriptor based on data files
we have. Because we have two csv files we use glob pattern <code>csv</code>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">jsonlite::toJSON(dataPackage$infer(&#x27;csv&#x27;), pretty = TRUE)</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">## {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   &quot;profile&quot;: [&quot;tabular-data-package&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   &quot;resources&quot;: [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       &quot;path&quot;: [&quot;cities.csv&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       &quot;profile&quot;: [&quot;tabular-data-resource&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       &quot;encoding&quot;: [&quot;utf-8&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       &quot;name&quot;: [&quot;cities&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       &quot;format&quot;: [&quot;csv&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       &quot;mediatype&quot;: [&quot;text/csv&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       &quot;schema&quot;: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##         &quot;fields&quot;: [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##           {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;name&quot;: [&quot;city&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;type&quot;: [&quot;string&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;format&quot;: [&quot;default&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##           },</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##           {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;name&quot;: [&quot;location&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;type&quot;: [&quot;string&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;format&quot;: [&quot;default&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##           }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##         ],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##         &quot;missingValues&quot;: [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##           [&quot;&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##         ]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     },</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       &quot;path&quot;: [&quot;population.csv&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       &quot;profile&quot;: [&quot;tabular-data-resource&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       &quot;encoding&quot;: [&quot;utf-8&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       &quot;name&quot;: [&quot;population&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       &quot;format&quot;: [&quot;csv&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       &quot;mediatype&quot;: [&quot;text/csv&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       &quot;schema&quot;: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##         &quot;fields&quot;: [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##           {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;name&quot;: [&quot;city&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;type&quot;: [&quot;string&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;format&quot;: [&quot;default&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##           },</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##           {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;name&quot;: [&quot;year&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;type&quot;: [&quot;integer&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;format&quot;: [&quot;default&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##           },</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##           {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;name&quot;: [&quot;population&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;type&quot;: [&quot;integer&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;format&quot;: [&quot;default&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##           }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##         ],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##         &quot;missingValues&quot;: [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##           [&quot;&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##         ]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   ]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">## }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">jsonlite::toJSON(dataPackage$descriptor, pretty = TRUE)</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">## {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   &quot;profile&quot;: [&quot;tabular-data-package&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   &quot;resources&quot;: [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       &quot;path&quot;: [&quot;cities.csv&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       &quot;profile&quot;: [&quot;tabular-data-resource&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       &quot;encoding&quot;: [&quot;utf-8&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       &quot;name&quot;: [&quot;cities&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       &quot;format&quot;: [&quot;csv&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       &quot;mediatype&quot;: [&quot;text/csv&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       &quot;schema&quot;: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##         &quot;fields&quot;: [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##           {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;name&quot;: [&quot;city&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;type&quot;: [&quot;string&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;format&quot;: [&quot;default&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##           },</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##           {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;name&quot;: [&quot;location&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;type&quot;: [&quot;string&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;format&quot;: [&quot;default&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##           }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##         ],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##         &quot;missingValues&quot;: [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##           [&quot;&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##         ]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     },</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       &quot;path&quot;: [&quot;population.csv&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       &quot;profile&quot;: [&quot;tabular-data-resource&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       &quot;encoding&quot;: [&quot;utf-8&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       &quot;name&quot;: [&quot;population&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       &quot;format&quot;: [&quot;csv&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       &quot;mediatype&quot;: [&quot;text/csv&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       &quot;schema&quot;: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##         &quot;fields&quot;: [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##           {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;name&quot;: [&quot;city&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;type&quot;: [&quot;string&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;format&quot;: [&quot;default&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##           },</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##           {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;name&quot;: [&quot;year&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;type&quot;: [&quot;integer&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;format&quot;: [&quot;default&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##           },</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##           {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;name&quot;: [&quot;population&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;type&quot;: [&quot;integer&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;format&quot;: [&quot;default&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##           }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##         ],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##         &quot;missingValues&quot;: [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##           [&quot;&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##         ]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   ]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">## }</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>An <code>infer</code> method has found all our files and inspected it to extract
useful metadata like profile, encoding, format, Table Schema etc. Letâ€™s
tweak it a little bit:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">dataPackage$descriptor$resources[[2]]$schema$fields[[2]]$type &lt;- &#x27;year&#x27;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">dataPackage$commit()</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">## [1] TRUE</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">dataPackage$valid</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">## [1] TRUE</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Because our resources are tabular we could read it as a tabular data:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">jsonlite::toJSON(dataPackage$getResource(&quot;population&quot;)$read(keyed = TRUE),auto_unbox = FALSE,pretty = TRUE)</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">## [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     &quot;city&quot;: [&quot;london&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     &quot;year&quot;: [2017],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     &quot;population&quot;: [8780000]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   },</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     &quot;city&quot;: [&quot;paris&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     &quot;year&quot;: [2017],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     &quot;population&quot;: [2240000]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   },</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     &quot;city&quot;: [&quot;rome&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     &quot;year&quot;: [2017],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     &quot;population&quot;: [2860000]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">## ]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Letâ€™s save our descriptor on the disk. After it we could update our
<code>datapackage.json</code> as we want, make some changes etc:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">dataPackage.save(&#x27;datapackage.json&#x27;)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>To continue the work with the data package we just load it again but
this time using local <code>datapackage.json</code>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">dataPackage &lt;- Package.load(&#x27;datapackage.json&#x27;)</span></div><div class="token-line" style="color:#393A34"><span class="token plain"># Continue the work</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>It was one basic introduction to the <code>Package</code> class. To learn more
letâ€™s take a look on <code>Package</code> class API reference.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="resource"></a>Resource<a class="hash-link" href="#resource" title="Direct link to heading">#</a></h3><p>A class for working with data resources. You can read or iterate tabular
resources using the <code>iter/read</code> methods and all resource as bytes using
<code>rowIter/rowRead</code> methods.</p><p>Consider we have some local csv file. It could be inline data or remote
link - all supported by <code>Resource</code> class (except local files for
in-brower usage of course). But say itâ€™s <code>cities.csv</code> for now:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">city,location</span></div><div class="token-line" style="color:#393A34"><span class="token plain">london,&quot;51.50,-0.11&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">paris,&quot;48.85,2.30&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">rome,N/A</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Letâ€™s create and read a resource. We use static <code>Resource$load</code> method
instantiate a resource. Because resource is tabular we could use
<code>resourceread</code> method with a <code>keyed</code> option to get an list of keyed
rows:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">resource &lt;- Resource.load(&#x27;{&quot;path&quot;: &quot;cities.csv&quot;}&#x27;)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">resource$tabular</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">## [1] TRUE</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">jsonlite::toJSON(resource$read(keyed = TRUE), pretty = TRUE)</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">## [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     &quot;city&quot;: [&quot;london&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     &quot;location&quot;: [&quot;\&quot;51.50 -0.11\&quot;&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   },</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     &quot;city&quot;: [&quot;paris&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     &quot;location&quot;: [&quot;\&quot;48.85 2.30\&quot;&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   },</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     &quot;city&quot;: [&quot;rome&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     &quot;location&quot;: [&quot;\&quot;41.89 12.51\&quot;&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">## ]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>As we could see our locations are just a strings. But it should be
geopoints. Also Romeâ€™s location is not available but itâ€™s also just a
<code>N/A</code> string instead of <code>null</code>. First we have to infer resource
metadata:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">jsonlite::toJSON(resource$infer(), pretty = TRUE)</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">## {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   &quot;path&quot;: [&quot;cities.csv&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   &quot;profile&quot;: [&quot;tabular-data-resource&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   &quot;encoding&quot;: [&quot;utf-8&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   &quot;name&quot;: [&quot;cities&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   &quot;format&quot;: [&quot;csv&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   &quot;mediatype&quot;: [&quot;text/csv&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   &quot;schema&quot;: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     &quot;fields&quot;: [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##         &quot;name&quot;: [&quot;city&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##         &quot;type&quot;: [&quot;string&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##         &quot;format&quot;: [&quot;default&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       },</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##         &quot;name&quot;: [&quot;location&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##         &quot;type&quot;: [&quot;string&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##         &quot;format&quot;: [&quot;default&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     ],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     &quot;missingValues&quot;: [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       [&quot;&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     ]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">## }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">jsonlite::toJSON(resource$descriptor, pretty = TRUE)</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">## {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   &quot;path&quot;: [&quot;cities.csv&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   &quot;profile&quot;: [&quot;tabular-data-resource&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   &quot;encoding&quot;: [&quot;utf-8&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   &quot;name&quot;: [&quot;cities&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   &quot;format&quot;: [&quot;csv&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   &quot;mediatype&quot;: [&quot;text/csv&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   &quot;schema&quot;: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     &quot;fields&quot;: [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##         &quot;name&quot;: [&quot;city&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##         &quot;type&quot;: [&quot;string&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##         &quot;format&quot;: [&quot;default&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       },</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##         &quot;name&quot;: [&quot;location&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##         &quot;type&quot;: [&quot;string&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##         &quot;format&quot;: [&quot;default&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     ],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     &quot;missingValues&quot;: [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       [&quot;&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     ]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">## }</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"># resource$read( keyed = TRUE )</span></div><div class="token-line" style="color:#393A34"><span class="token plain"># # Fails with a data validation error</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Letâ€™s fix not available location. There is a <code>missingValues</code> property in
Table Schema specification. As a first try we set <code>missingValues</code> to
<code>N/A</code> in <code>resource$descriptor.schema</code>. Resource descriptor could be
changed in-place but all changes should be commited by
<code>resource$commit()</code>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">resource$descriptor$schema$missingValues &lt;- &#x27;N/A&#x27;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">resource$commit()</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">## [1] TRUE</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">resource$valid # FALSE</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">## [1] FALSE</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">resource$errors</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">## [[1]]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">## [1] &quot;Descriptor validation error:\n            data.schema.missingValues - is the wrong type&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>As a good citiziens weâ€™ve decided to check out recource descriptor
validity. And itâ€™s not valid! We should use an list for <code>missingValues</code>
property. Also donâ€™t forget to have an empty string as a missing value:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">resource$descriptor$schema[[&#x27;missingValues&#x27;]] &lt;- list(&#x27;&#x27;, &#x27;N/A&#x27;)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">resource$commit()</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">## [1] TRUE</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">resource$valid # TRUE</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">## [1] TRUE</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>All good. It looks like weâ€™re ready to read our data again:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">jsonlite::toJSON(resource$read( keyed = TRUE ), pretty = TRUE)</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">## [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     &quot;city&quot;: [&quot;london&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     &quot;location&quot;: [&quot;\&quot;51.50 -0.11\&quot;&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   },</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     &quot;city&quot;: [&quot;paris&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     &quot;location&quot;: [&quot;\&quot;48.85 2.30\&quot;&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   },</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     &quot;city&quot;: [&quot;rome&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     &quot;location&quot;: [&quot;\&quot;41.89 12.51\&quot;&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">## ]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Now we see that: - locations are lists with numeric lattide and
longitude - Romeâ€™s location is a native JavaScript <code>null</code></p><p>And because there are no errors on data reading we could be sure that
our data is valid againt our schema. Letâ€™s save our resource descriptor:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">resource$save(&#x27;dataresource.json&#x27;)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Letâ€™s check newly-crated <code>dataresource.json</code>. It contains path to our
data file, inferred metadata and our <code>missingValues</code> tweak:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">&quot;path&quot;: &quot;data.csv&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">&quot;profile&quot;: &quot;tabular-data-resource&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">&quot;encoding&quot;: &quot;utf-8&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">&quot;name&quot;: &quot;data&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">&quot;format&quot;: &quot;csv&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">&quot;mediatype&quot;: &quot;text/csv&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">&quot;schema&quot;: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">&quot;fields&quot;: [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">&quot;name&quot;: &quot;city&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">&quot;type&quot;: &quot;string&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">&quot;format&quot;: &quot;default&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">},</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">&quot;name&quot;: &quot;location&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">&quot;type&quot;: &quot;geopoint&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">&quot;format&quot;: &quot;default&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div><div class="token-line" style="color:#393A34"><span class="token plain">],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">&quot;missingValues&quot;: [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">&quot;&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">&quot;N/A&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>If we decide to improve it even more we could update the
<code>dataresource.json</code> file and then open it again using local file name:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">resource &lt;- Resource.load(&#x27;dataresource.json&#x27;)</span></div><div class="token-line" style="color:#393A34"><span class="token plain"># Continue the work</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>It was one basic introduction to the <code>Resource</code> class. To learn more
letâ€™s take a look on <code>Resource</code> class API reference.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="working-with-profile"></a>Working with Profile<a class="hash-link" href="#working-with-profile" title="Direct link to heading">#</a></h4><p>A component to represent JSON Schema profile from <a href="https://specs.frictionlessdata.io/schemas/registry.json" target="_blank" rel="noopener noreferrer">Profiles
Registry</a>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">profile &lt;- Profile.load(&#x27;data-package&#x27;)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">profile$name # data-package</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">## [1] &quot;data-package&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">profile$jsonschema # List of JSON Schema contents</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">valid_errors &lt;- profile$validate(descriptor)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">valid &lt;- valid_errors$valid # TRUE if valid descriptor</span></div><div class="token-line" style="color:#393A34"><span class="token plain">valid</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">## [1] TRUE</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="working-with-validate"></a>Working with validate<a class="hash-link" href="#working-with-validate" title="Direct link to heading">#</a></h4><p>A standalone function to validate a data package descriptor:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">valid_errors &lt;- validate(&#x27;{&quot;name&quot;: &quot;Invalid Datapackage&quot;}&#x27;)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="working-with-infer"></a>Working with infer<a class="hash-link" href="#working-with-infer" title="Direct link to heading">#</a></h4><p>A standalone function to infer a data package descriptor.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">descriptor &lt;- infer(&quot;csv&quot;,basePath = &#x27;.&#x27;)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">jsonlite::toJSON(descriptor, pretty = TRUE)</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">## {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   &quot;profile&quot;: [&quot;tabular-data-package&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   &quot;resources&quot;: [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       &quot;path&quot;: [&quot;cities.csv&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       &quot;profile&quot;: [&quot;tabular-data-resource&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       &quot;encoding&quot;: [&quot;utf-8&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       &quot;name&quot;: [&quot;cities&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       &quot;format&quot;: [&quot;csv&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       &quot;mediatype&quot;: [&quot;text/csv&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       &quot;schema&quot;: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##         &quot;fields&quot;: [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##           {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;name&quot;: [&quot;city&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;type&quot;: [&quot;string&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;format&quot;: [&quot;default&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##           },</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##           {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;name&quot;: [&quot;location&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;type&quot;: [&quot;string&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;format&quot;: [&quot;default&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##           }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##         ],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##         &quot;missingValues&quot;: [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##           [&quot;&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##         ]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     },</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       &quot;path&quot;: [&quot;population.csv&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       &quot;profile&quot;: [&quot;tabular-data-resource&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       &quot;encoding&quot;: [&quot;utf-8&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       &quot;name&quot;: [&quot;population&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       &quot;format&quot;: [&quot;csv&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       &quot;mediatype&quot;: [&quot;text/csv&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       &quot;schema&quot;: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##         &quot;fields&quot;: [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##           {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;name&quot;: [&quot;city&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;type&quot;: [&quot;string&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;format&quot;: [&quot;default&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##           },</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##           {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;name&quot;: [&quot;year&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;type&quot;: [&quot;integer&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;format&quot;: [&quot;default&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##           },</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##           {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;name&quot;: [&quot;population&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;type&quot;: [&quot;integer&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##             &quot;format&quot;: [&quot;default&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##           }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##         ],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##         &quot;missingValues&quot;: [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##           [&quot;&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##         ]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##       }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   ]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">## }</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="working-with-foreign-keys"></a>Working with Foreign Keys<a class="hash-link" href="#working-with-foreign-keys" title="Direct link to heading">#</a></h4><p>The package supports foreign keys described in the <a href="https://specs.frictionlessdata.io/table-schema/#foreign-keys" target="_blank" rel="noopener noreferrer">Table
Schema</a>
specification. It means if your data package descriptor use
<code>resources[]$schema$foreignKeys</code> property for some resources a data
integrity will be checked on reading operations.</p><p>Consider we have a data package:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">DESCRIPTOR &lt;- &#x27;{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">&quot;resources&quot;: [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">&quot;name&quot;: &quot;teams&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">&quot;data&quot;: [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">[&quot;id&quot;, &quot;name&quot;, &quot;city&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">[&quot;1&quot;, &quot;Arsenal&quot;, &quot;London&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">[&quot;2&quot;, &quot;Real&quot;, &quot;Madrid&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">[&quot;3&quot;, &quot;Bayern&quot;, &quot;Munich&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">&quot;schema&quot;: {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">&quot;fields&quot;: [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{&quot;name&quot;: &quot;id&quot;, &quot;type&quot;: &quot;integer&quot;},</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{&quot;name&quot;: &quot;name&quot;, &quot;type&quot;: &quot;string&quot;},</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{&quot;name&quot;: &quot;city&quot;, &quot;type&quot;: &quot;string&quot;}</span></div><div class="token-line" style="color:#393A34"><span class="token plain">],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">&quot;foreignKeys&quot;: [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">&quot;fields&quot;: &quot;city&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">&quot;reference&quot;: {&quot;resource&quot;: &quot;cities&quot;, &quot;fields&quot;: &quot;name&quot;}</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div><div class="token-line" style="color:#393A34"><span class="token plain">]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}, {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">&quot;name&quot;: &quot;cities&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">&quot;data&quot;: [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">[&quot;name&quot;, &quot;country&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">[&quot;London&quot;, &quot;England&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">[&quot;Madrid&quot;, &quot;Spain&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}</span></div><div class="token-line" style="color:#393A34"><span class="token plain">]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}&#x27;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Letâ€™s check relations for a <code>teams</code> resource:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">package &lt;- Package.load(DESCRIPTOR)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">teams &lt;- package$getResource(&#x27;teams&#x27;)</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">teams$checkRelations()</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">## Error: Foreign key &#x27;city&#x27; violation in row &#x27;4&#x27;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"># tableschema.exceptions.RelationError: Foreign key &quot;[&#x27;city&#x27;]&quot; violation in row &quot;4&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>As we could see there is a foreign key violation. Thatâ€™s because our
lookup table <code>cities</code> doesnâ€™t have a city of <code>Munich</code> but we have a team
from there. We need to fix it in <code>cities</code> resource:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">package$descriptor$resources[[2]]$data &lt;- rlist::list.append(package$descriptor$resources[[2]]$data, list(&#x27;Munich&#x27;, &#x27;Germany&#x27;))</span></div><div class="token-line" style="color:#393A34"><span class="token plain">package$commit()</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">## [1] TRUE</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">teams &lt;- package$getResource(&#x27;teams&#x27;)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">teams$checkRelations()</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">## [1] TRUE</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"># TRUE</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Fixed! But not only a check operation is available. We could use
<code>relations</code> argument for <code>resource$iter/read</code> methods to dereference a
resource relations:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">jsonlite::toJSON(teams$read(keyed = TRUE, relations = FALSE), pretty =  TRUE)</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">## [</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     &quot;id&quot;: [1],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     &quot;name&quot;: [&quot;Arsenal&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     &quot;city&quot;: [&quot;London&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   },</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     &quot;id&quot;: [2],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     &quot;name&quot;: [&quot;Real&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     &quot;city&quot;: [&quot;Madrid&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   },</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     &quot;id&quot;: [3],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     &quot;name&quot;: [&quot;Bayern&quot;],</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##     &quot;city&quot;: [&quot;Munich&quot;]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">##   }</span></div><div class="token-line" style="color:#393A34"><span class="token plain">## ]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Instead of plain city name weâ€™ve got a dictionary containing a city
data. These <code>resource$iter/read</code> methods will fail with the same as
<code>resource$check_relations</code> error if there is an integrity issue. But
only if <code>relations = TRUE</code> flag is passed.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="api-referencer"></a>API Referencer<a class="hash-link" href="#api-referencer" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="package"></a>Package<a class="hash-link" href="#package" title="Direct link to heading">#</a></h3><p>Package representation</p><ul><li><a href="#Package">Package</a></li><li><em>instance</em></li><li><a href="#Package+valid">$valid</a> â‡’ <code>Boolean</code></li><li><a href="#Package+errors">$errors</a> â‡’ <code>List.&amp;lt;Error&amp;gt;</code></li><li><a href="#Package+profile">$profile</a> â‡’ <code>Profile</code></li><li><a href="#Package+descriptor">$descriptor</a> â‡’ <code>Object</code></li><li><a href="#Package+resources">$resources</a> â‡’
<code>List.&amp;lt;Resoruce&amp;gt;</code></li><li><a href="#Package+resourceNames">$resourceNames</a> â‡’
<code>List.&amp;lt;string&amp;gt;</code></li><li><a href="#Package+getResource">$getResource(name)</a> â‡’ <code>Resource</code>| <code>null</code></li><li><a href="#Package+addResource">$addResource(descriptor)</a> â‡’
<code>Resource</code></li><li><a href="#Package+removeResource">$removeResource(name)</a> â‡’
<code>Resource</code> | <code>null</code></li><li><a href="#Package+infer">$infer(pattern)</a> â‡’ <code>Object</code></li><li><a href="#Package+commit">$commit(strict)</a> â‡’ <code>Boolean</code></li><li><a href="#Package+save">$save(target, raises, returns)</a></li><li><em>static</em></li><li><a href="#Package.load">.load(descriptor, basePath, strict)</a> â‡’
<a href="#Package"><code>Package</code></a></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="packagevalid--boolean"></a>package$.valid â‡’ <code>Boolean</code><a class="hash-link" href="#packagevalid--boolean" title="Direct link to heading">#</a></h4><p>Validation status</p><p>It always <code>true</code> in strict mode.</p><p><strong>Returns</strong>: <code>Boolean</code> - returns validation status</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="packageerrors--listlterrorgt"></a>package$errors â‡’ <code>List.&amp;lt;Error&amp;gt;</code><a class="hash-link" href="#packageerrors--listlterrorgt" title="Direct link to heading">#</a></h4><p>Validation errors</p><p>It always empty in strict mode.</p><p><strong>Returns</strong>: <code>List.&amp;lt;Error&amp;gt;</code> - returns validation errors</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="packageprofile--profile"></a>package$profile â‡’ <code>Profile</code><a class="hash-link" href="#packageprofile--profile" title="Direct link to heading">#</a></h4><p>Profile</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="packagedescriptor--object"></a>package$descriptor â‡’ <code>Object</code><a class="hash-link" href="#packagedescriptor--object" title="Direct link to heading">#</a></h4><p>Descriptor</p><p><strong>Returns</strong>: <code>Object</code> - schema descriptor</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="packageresources--listltresorucegt"></a>package$resources â‡’ <code>List.&amp;lt;Resoruce&amp;gt;</code><a class="hash-link" href="#packageresources--listltresorucegt" title="Direct link to heading">#</a></h4><p>Resources</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="packageresourcenames--listltstringgt"></a>package$resourceNames â‡’ <code>List.&amp;lt;string&amp;gt;</code><a class="hash-link" href="#packageresourcenames--listltstringgt" title="Direct link to heading">#</a></h4><p>Resource names</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="packagegetresourcename--resource--null"></a>package$getResource(name) â‡’ <code>Resource</code> | <code>null</code><a class="hash-link" href="#packagegetresourcename--resource--null" title="Direct link to heading">#</a></h4><p>Return a resource</p><p><strong>Returns</strong>: <code>Resource</code> | <code>null</code> - resource
instance if exists</p><table><thead><tr><th>Param</th><th>Type</th></tr></thead><tbody><tr><td>name</td><td><code>string</code></td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="packageaddresourcedescriptor--resource"></a>package$addResource(descriptor) â‡’ <code>Resource</code><a class="hash-link" href="#packageaddresourcedescriptor--resource" title="Direct link to heading">#</a></h4><p>Add a resource</p><p><strong>Returns</strong>: <code>Resource</code> - added resource instance</p><table><thead><tr><th>Param</th><th>Type</th></tr></thead><tbody><tr><td>descriptor</td><td><code>Object</code></td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="packageremoveresourcename--resource--null"></a>package$removeResource(name) â‡’ <code>Resource</code> | <code>null</code><a class="hash-link" href="#packageremoveresourcename--resource--null" title="Direct link to heading">#</a></h4><p>Remove a resource</p><p><strong>Returns</strong>: <code>Resource</code> | <code>null</code> - removed
resource instance if exists</p><table><thead><tr><th>Param</th><th>Type</th></tr></thead><tbody><tr><td>name</td><td><code>string</code></td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="packageinferpattern--object"></a>package$infer(pattern) â‡’ <code>Object</code><a class="hash-link" href="#packageinferpattern--object" title="Direct link to heading">#</a></h4><p>Infer metadata</p><table><thead><tr><th>Param</th><th>Type</th><th>Default</th></tr></thead><tbody><tr><td>pattern</td><td><code>string</code></td><td><code>false</code></td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="packagecommitstrict--boolean"></a>package$commit(strict) â‡’ <code>Boolean</code><a class="hash-link" href="#packagecommitstrict--boolean" title="Direct link to heading">#</a></h4><p>Update package instance if there are in-place changes in the descriptor.</p><p><strong>Returns</strong>: <code>Boolean</code> - returns true on success and false if
not modified
<strong>Throws</strong>:</p><ul><li><code>DataPackageError</code> raises any error occurred in the
process</li></ul><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>strict</td><td><code>boolean</code></td><td>alter <code>strict</code> mode for further work</td></tr></tbody></table><p><strong>Example</strong></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">dataPackage &lt;- Package.load(&#x27;{</span></div><div class="token-line" style="color:#393A34"><span class="token plain">&quot;name&quot;: &quot;package&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">&quot;resources&quot;: [{&quot;name&quot;: &quot;resource&quot;, &quot;data&quot;: [&quot;data&quot;]}]</span></div><div class="token-line" style="color:#393A34"><span class="token plain">}&#x27;)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">dataPackage$descriptor$name # package</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">## [1] &quot;package&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">dataPackage$descriptor$name &lt;- &#x27;renamed-package&#x27;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">dataPackage$descriptor$name # renamed-package</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">## [1] &quot;renamed-package&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">dataPackage$commit()</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">## [1] TRUE</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="packagesavetarget-raises-returns"></a>package$save(target, raises, returns)<a class="hash-link" href="#packagesavetarget-raises-returns" title="Direct link to heading">#</a></h4><p>Save data package to target destination.</p><p>If target path has a zip file extension the package will be zipped and
saved entirely. If it has a json file extension only the descriptor will
be saved.</p><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>target</td><td><code>string</code></td><td>path where to save a data package</td></tr><tr><td>raises</td><td><code>DataPackageError</code></td><td>error if something goes wrong</td></tr><tr><td>returns</td><td><code>boolean</code></td><td>true on success</td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="packageloaddescriptor-basepath-strict--package"></a>Package.load(descriptor, basePath, strict) â‡’ <a href="#Package"><code>Package</code></a><a class="hash-link" href="#packageloaddescriptor-basepath-strict--package" title="Direct link to heading">#</a></h4><p>Factory method to instantiate <code>Package</code> class.</p><p>This method is async and it should be used with await keyword or as a
<code>Promise</code>.</p><p><strong>Returns</strong>: <a href="#Package"><code>Package</code></a> - returns data package
class instance
<strong>Throws</strong>:</p><ul><li><code>DataPackageError</code> raises error if something goes wrong</li></ul><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>descriptor</td><td><code>string</code> | <code>Object</code></td><td>package descriptor as local path, url or object. If ththe path has a <code>zip</code> file extension it will be unzipped to the temp directory first.</td></tr><tr><td>basePath</td><td><code>string</code></td><td>base path for all relative paths</td></tr><tr><td>strict</td><td><code>boolean</code></td><td>strict flag to alter validation behavior. Setting it to <code>true</code> leads to throwing errors on any operation with invalid descriptor</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="resource-1"></a>Resource<a class="hash-link" href="#resource-1" title="Direct link to heading">#</a></h3><p>Resource representation</p><ul><li><a href="#Resource">Resource</a></li><li><em>instance</em></li><li><a href="#Resource+valid">$valid</a> â‡’ <code>Boolean</code></li><li><a href="#Resource+errors">$errors</a> â‡’ <code>List.&amp;lt;Error&amp;gt;</code></li><li><a href="#Resource+profile">$profile</a> â‡’ <code>Profile</code></li><li><a href="#Resource+descriptor">$descriptor</a> â‡’ <code>Object</code></li><li><a href="#Resource+name">$name</a> â‡’ <code>string</code></li><li><a href="#Resource+inline">$inline</a> â‡’ <code>boolean</code></li><li><a href="#Resource+local">$local</a> â‡’ <code>boolean</code></li><li><a href="#Resource+remote">$remote</a> â‡’ <code>boolean</code></li><li><a href="#Resource+multipart">$multipart</a> â‡’ <code>boolean</code></li><li><a href="#Resource+tabular">$tabular</a> â‡’ <code>boolean</code></li><li><a href="#Resource+source">$source</a> â‡’ <code>List</code> |<code>string</code></li><li><a href="#Resource+headers">$headers</a> â‡’ <code>List.&amp;lt;string&amp;gt;</code></li><li><a href="#Resource+schema">$schema</a> â‡’ <code>tableschema.Schema</code></li><li><a href="#Resource+iter">$iter(keyed, extended, cast, forceCast, relations,
stream)</a> â‡’ <code>AsyncIterator</code> |<code>Stream</code></li><li><a href="#Resource+read">$read(limit)</a> â‡’ <code>List.&amp;lt;List&amp;gt;</code> |<code>List.&amp;lt;Object&amp;gt;</code></li><li><a href="#Resource+checkRelations">$checkRelations()</a> â‡’ <code>boolean</code></li><li><a href="#Resource+rawIter">$rawIter(stream)</a> â‡’ <code>Iterator</code> |<code>Stream</code></li><li><a href="#Resource+rawRead">$rawRead()</a> â‡’ <code>Buffer</code></li><li><a href="#Resource+infer">$infer()</a> â‡’ <code>Object</code></li><li><a href="#Resource+commit">$commit(strict)</a> â‡’ <code>boolean</code></li><li><a href="#Resource+save">$save(target)</a> â‡’ <code>boolean</code></li><li><em>static</em></li><li><a href="#Resource.load">$load(descriptor, basePath, strict)</a> â‡’
<a href="#Resource"><code>Resource</code></a></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourcevalid--boolean"></a>resource$valid â‡’ <code>Boolean</code><a class="hash-link" href="#resourcevalid--boolean" title="Direct link to heading">#</a></h4><p>Validation status</p><p>It always <code>true</code> in strict mode.</p><p><strong>Returns</strong>: <code>Boolean</code> - returns validation status</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourceerrors--listlterrorgt"></a>resource$errors â‡’ <code>List.&amp;lt;Error&amp;gt;</code><a class="hash-link" href="#resourceerrors--listlterrorgt" title="Direct link to heading">#</a></h4><p>Validation errors</p><p>It always empty in strict mode.</p><p><strong>Returns</strong>: <code>List.&amp;lt;Error&amp;gt;</code> - returns validation errors</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourceprofile--profile"></a>resource$profile â‡’ <code>Profile</code><a class="hash-link" href="#resourceprofile--profile" title="Direct link to heading">#</a></h4><p>Profile</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourcedescriptor--object"></a>resource$descriptor â‡’ <code>Object</code><a class="hash-link" href="#resourcedescriptor--object" title="Direct link to heading">#</a></h4><p>Descriptor</p><p><strong>Returns</strong>: <code>Object</code> - schema descriptor</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourcename--string"></a>resource$name â‡’ <code>string</code><a class="hash-link" href="#resourcename--string" title="Direct link to heading">#</a></h4><p>Name</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourceinline--boolean"></a>resource$inline â‡’ <code>boolean</code><a class="hash-link" href="#resourceinline--boolean" title="Direct link to heading">#</a></h4><p>Whether resource is inline</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourcelocal--boolean"></a>resource$local â‡’ <code>boolean</code><a class="hash-link" href="#resourcelocal--boolean" title="Direct link to heading">#</a></h4><p>Whether resource is local</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourceremote--boolean"></a>resource$remote â‡’ <code>boolean</code><a class="hash-link" href="#resourceremote--boolean" title="Direct link to heading">#</a></h4><p>Whether resource is remote</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourcemultipart--boolean"></a>resource$multipart â‡’ <code>boolean</code><a class="hash-link" href="#resourcemultipart--boolean" title="Direct link to heading">#</a></h4><p>Whether resource is multipart</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourcetabular--boolean"></a>resource$tabular â‡’ <code>boolean</code><a class="hash-link" href="#resourcetabular--boolean" title="Direct link to heading">#</a></h4><p>Whether resource is tabular</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourcesource--list--string"></a>resource$source â‡’ <code>List</code> | <code>string</code><a class="hash-link" href="#resourcesource--list--string" title="Direct link to heading">#</a></h4><p>Source</p><p>Combination of <code>resource.source</code> and
<code>resource.inline/local/remote/multipart</code> provides predictable interface
to work with resource data.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourceheaders--listltstringgt"></a>resource$headers â‡’ <code>List.&amp;lt;string&amp;gt;</code><a class="hash-link" href="#resourceheaders--listltstringgt" title="Direct link to heading">#</a></h4><p>Headers</p><blockquote><p>Only for tabular resources</p></blockquote><p><strong>Returns</strong>: <code>List.&amp;lt;string&amp;gt;</code> - data source headers</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourceschema--tableschemaschema"></a>resource$schema â‡’ <code>tableschema.Schema</code><a class="hash-link" href="#resourceschema--tableschemaschema" title="Direct link to heading">#</a></h4><p>Schema</p><blockquote><p>Only for tabular resources</p></blockquote><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourceiterkeyed-extended-cast-forcecast-relations-stream--asynciterator--stream"></a>resource$iter(keyed, extended, cast, forceCast, relations, stream) â‡’ <code>AsyncIterator</code> | <code>Stream</code><a class="hash-link" href="#resourceiterkeyed-extended-cast-forcecast-relations-stream--asynciterator--stream" title="Direct link to heading">#</a></h4><p>Iterate through the table data</p><blockquote><p>Only for tabular resources</p></blockquote><p>And emits rows cast based on table schema (async for loop). With a
<code>stream</code> flag instead of async iterator a Node stream will be returned.
Data casting can be disabled.</p><p><strong>Returns</strong>: <code>AsyncIterator</code> | <code>Stream</code> - async
iterator/stream of rows: - <code>[value1, value2]</code> - base -
<code>{header1: value1, header2: value2}</code> - keyed -
<code>[rowNumber, [header1, header2], [value1, value2]]</code> - extended
<strong>Throws</strong>:</p><ul><li><code>TableSchemaError</code> raises any error occurred in this
process</li></ul><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>keyed</td><td><code>boolean</code></td><td>iter keyed rows</td></tr><tr><td>extended</td><td><code>boolean</code></td><td>iter extended rows</td></tr><tr><td>cast</td><td><code>boolean</code></td><td>disable data casting if false</td></tr><tr><td>forceCast</td><td><code>boolean</code></td><td>instead of raising on the first row with cast error return an error object to replace failed row. It will allow to iterate over the whole data file even if itâ€™s not compliant to the schema. Example of output stream: <code>[[&#x27;val1&#x27;, &#x27;val2&#x27;], TableSchemaError, [&#x27;val3&#x27;, &#x27;val4&#x27;], ...]</code></td></tr><tr><td>relations</td><td><code>boolean</code></td><td>if true foreign key fields will be checked and resolved to its references</td></tr><tr><td>stream</td><td><code>boolean</code></td><td>return Node Readable Stream of table rows</td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourcereadlimit--listltlistgt--listltobjectgt"></a>resource$read(limit) â‡’ <code>List.&amp;lt;List&amp;gt;</code> | <code>List.&amp;lt;Object&amp;gt;</code><a class="hash-link" href="#resourcereadlimit--listltlistgt--listltobjectgt" title="Direct link to heading">#</a></h4><p>Read the table data into memory</p><blockquote><p>Only for tabular resources; the API is the same as <code>resource.iter</code> has
except for:</p></blockquote><p><strong>Returns</strong>: <code>List.&amp;lt;List&amp;gt;</code> |
<code>List.&amp;lt;Object&amp;gt;</code> - list of rows: - <code>[value1, value2]</code> -
base - <code>{header1: value1, header2: value2}</code> - keyed -
<code>[rowNumber, [header1, header2], [value1, value2]]</code> - extended</p><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>limit</td><td><code>integer</code></td><td>limit of rows to read</td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourcecheckrelations--boolean"></a>resource$checkRelations() â‡’ <code>boolean</code><a class="hash-link" href="#resourcecheckrelations--boolean" title="Direct link to heading">#</a></h4><p>It checks foreign keys and raises an exception if there are integrity
issues.</p><blockquote><p>Only for tabular resources</p></blockquote><p><strong>Returns</strong>: <code>boolean</code> - returns True if no issues
<strong>Throws</strong>:</p><ul><li><code>DataPackageError</code> raises if there are integrity issues</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourcerawiterstream--iterator--stream"></a>resource$rawIter(stream) â‡’ <code>Iterator</code> | <code>Stream</code><a class="hash-link" href="#resourcerawiterstream--iterator--stream" title="Direct link to heading">#</a></h4><p>Iterate over data chunks as bytes. If <code>stream</code> is true Node Stream will
be returned.</p><p><strong>Returns</strong>: <code>Iterator</code> | <code>Stream</code> - returns
Iterator/Stream</p><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>stream</td><td><code>boolean</code></td><td>Node Stream will be returned</td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourcerawread--buffer"></a>resource$rawRead() â‡’ <code>Buffer</code><a class="hash-link" href="#resourcerawread--buffer" title="Direct link to heading">#</a></h4><p>Returns resource data as bytes.</p><p><strong>Returns</strong>: <code>Buffer</code> - returns Buffer with resource data</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourceinfer--object"></a>resource$infer() â‡’ <code>Object</code><a class="hash-link" href="#resourceinfer--object" title="Direct link to heading">#</a></h4><p>Infer resource metadata like name, format, mediatype, encoding, schema
and profile.</p><p>It commits this changes into resource instance.</p><p><strong>Returns</strong>: <code>Object</code> - returns resource descriptor</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourcecommitstrict--boolean"></a>resource$commit(strict) â‡’ <code>boolean</code><a class="hash-link" href="#resourcecommitstrict--boolean" title="Direct link to heading">#</a></h4><p>Update resource instance if there are in-place changes in the
descriptor.</p><p><strong>Returns</strong>: <code>boolean</code> - returns true on success and false if
not modified
<strong>Throws</strong>:</p><ul><li>DataPackageError raises error if something goes wrong</li></ul><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>strict</td><td><code>boolean</code></td><td>alter <code>strict</code> mode for further work</td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourcesavetarget--boolean"></a>resource$save(target) â‡’ <code>boolean</code><a class="hash-link" href="#resourcesavetarget--boolean" title="Direct link to heading">#</a></h4><p>Save resource to target destination.</p><blockquote><p>For now only descriptor will be saved.</p></blockquote><p><strong>Returns</strong>: <code>boolean</code> - returns true on success
<strong>Throws</strong>:</p><ul><li><code>DataPackageError</code> raises error if something goes wrong</li></ul><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>target</td><td><code>string</code></td><td>path where to save a resource</td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourceloaddescriptor-basepath-strict--resource"></a>Resource.load(descriptor, basePath, strict) â‡’ <a href="#Resource"><code>Resource</code></a><a class="hash-link" href="#resourceloaddescriptor-basepath-strict--resource" title="Direct link to heading">#</a></h4><p>Factory method to instantiate <code>Resource</code> class.</p><p>This method is async and it should be used with await keyword or as a
<code>Promise</code>.</p><p><strong>Returns</strong>: <a href="#Resource"><code>Resource</code></a> - returns resource class
instance
<strong>Throws</strong>:</p><ul><li><code>DataPackageError</code> raises error if something goes wrong</li></ul><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>descriptor</td><td><code>string</code> | <code>Object</code></td><td>resource descriptor as local path, url or object</td></tr><tr><td>basePath</td><td><code>string</code></td><td>base path for all relative paths</td></tr><tr><td>strict</td><td><code>boolean</code></td><td>strict flag to alter validation behavior. Setting it to <code>true</code> leads to throwing errors on any operation with invalid descriptor</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="profile"></a>Profile<a class="hash-link" href="#profile" title="Direct link to heading">#</a></h3><p>Profile representation</p><ul><li><a href="#Profile">Profile</a></li><li><em>instance</em></li><li><a href="#Profile+name">$name</a> â‡’ <code>string</code></li><li><a href="#Profile+jsonschema">$jsonschema</a> â‡’ <code>Object</code></li><li><a href="#Profile+validate">$validate(descriptor)</a> â‡’ <code>Object</code></li><li><em>static</em></li><li><a href="#Profile.load">$load(profile)</a> â‡’ <a href="#Profile"><code>Profile</code></a></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="profilename--string"></a>profile$name â‡’ <code>string</code><a class="hash-link" href="#profilename--string" title="Direct link to heading">#</a></h4><p>Name</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="profilejsonschema--object"></a>profile$jsonschema â‡’ <code>Object</code><a class="hash-link" href="#profilejsonschema--object" title="Direct link to heading">#</a></h4><p>JsonSchema</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="profilevalidatedescriptor--object"></a>profile$validate(descriptor) â‡’ <code>Object</code><a class="hash-link" href="#profilevalidatedescriptor--object" title="Direct link to heading">#</a></h4><p>Validate a data package <code>descriptor</code> against the profile.</p><p><strong>Returns</strong>: <code>Object</code> - returns a <code>{valid, errors}</code> object</p><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>descriptor</td><td><code>Object</code></td><td>retrieved and dereferenced data package descriptor</td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="profileloadprofile--profile"></a>Profile.load(profile) â‡’ <a href="#Profile"><code>Profile</code></a><a class="hash-link" href="#profileloadprofile--profile" title="Direct link to heading">#</a></h4><p>Factory method to instantiate <code>Profile</code> class.</p><p>This method is async and it should be used with await keyword or as a
<code>Promise</code>.</p><p><strong>Returns</strong>: <a href="#Profile"><code>Profile</code></a> - returns profile class
instance
<strong>Throws</strong>:</p><ul><li><code>DataPackageError</code> raises error if something goes wrong</li></ul><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>profile</td><td><code>string</code></td><td>profile name in registry or URL to JSON Schema</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="validatedescriptor--object"></a>validate(descriptor) â‡’ <code>Object</code><a class="hash-link" href="#validatedescriptor--object" title="Direct link to heading">#</a></h3><p>This function is async so it has to be used with <code>await</code> keyword or as a
<code>Promise</code>.</p><p><strong>Returns</strong>: <code>Object</code> - returns a <code>{valid, errors}</code> object</p><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>descriptor</td><td><code>string</code> | <code>Object</code></td><td>data package descriptor (local/remote path or object)</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="inferpattern--object"></a>infer(pattern) â‡’ <code>Object</code><a class="hash-link" href="#inferpattern--object" title="Direct link to heading">#</a></h3><p>This function is async so it has to be used with <code>await</code> keyword or as a
<code>Promise</code>.</p><p><strong>Returns</strong>: <code>Object</code> - returns data package descriptor</p><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>pattern</td><td><code>string</code></td><td>glob file pattern</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="datapackageerror"></a>DataPackageError<a class="hash-link" href="#datapackageerror" title="Direct link to heading">#</a></h3><p>Base class for the all DataPackage errors.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="tableschemaerror"></a>TableSchemaError<a class="hash-link" href="#tableschemaerror" title="Direct link to heading">#</a></h3><p>Base class for the all TableSchema errors.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="contributing"></a>Contributing<a class="hash-link" href="#contributing" title="Direct link to heading">#</a></h2><p>The project follows the <a href="https://github.com/okfn/coding-standards" target="_blank" rel="noopener noreferrer">Open Knowledge International coding
standards</a>. There are common
commands to work with the project.Recommended way to get started is to
create, activate and load the package environment. To install package
and development dependencies into active environment:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">devtools::install_github(&quot;frictionlessdata/datapackage-r&quot;, dependencies=TRUE)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>To make test:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">test_that(description, {</span></div><div class="token-line" style="color:#393A34"><span class="token plain">expect_equal(test, expected result)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">})</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>To run tests:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">devtools::test()</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>more detailed information about how to create and run tests you can find
in <a href="https://github.com/hadley/testthat" target="_blank" rel="noopener noreferrer">testthat package</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="changelog---news"></a>Changelog - News<a class="hash-link" href="#changelog---news" title="Direct link to heading">#</a></h2><p>In
<a href="https://github.com/frictionlessdata/datapackage-r/blob/master/NEWS.md" target="_blank" rel="noopener noreferrer">NEWS.md</a>
described only breaking and the most important changes. The full
changelog could be found in nicely formatted
<a href="https://github.com/frictionlessdata/datapackage-r/commits/master" target="_blank" rel="noopener noreferrer">commit</a>
history.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/frictionlessdata/libraries/edit/master/docs/docs/data-package/rlang.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2022-04-12T14:41:16.000Z" class="lastUpdatedDate_nN9m">4/12/2022</time> by <strong>roll</strong></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/data-package/go"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« datapackage-go</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/data-package/julia"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">datapackage-jl Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#description" class="table-of-contents__link">Description</a><ul><li><a href="#features" class="table-of-contents__link">Features</a></li></ul></li><li><a href="#getting-started" class="table-of-contents__link">Getting started</a><ul><li><a href="#installation" class="table-of-contents__link">Installation</a></li><li><a href="#load-package" class="table-of-contents__link">Load package</a></li></ul></li><li><a href="#examples" class="table-of-contents__link">Examples</a></li><li><a href="#documentation" class="table-of-contents__link">Documentation</a><ul><li><a href="#working-with-package" class="table-of-contents__link">Working with Package</a></li><li><a href="#resource" class="table-of-contents__link">Resource</a></li></ul></li><li><a href="#api-referencer" class="table-of-contents__link">API Referencer</a><ul><li><a href="#package" class="table-of-contents__link">Package</a></li><li><a href="#resource-1" class="table-of-contents__link">Resource</a></li><li><a href="#profile" class="table-of-contents__link">Profile</a></li><li><a href="#validatedescriptor--object" class="table-of-contents__link">validate(descriptor) â‡’ <code>Object</code></a></li><li><a href="#inferpattern--object" class="table-of-contents__link">infer(pattern) â‡’ <code>Object</code></a></li><li><a href="#datapackageerror" class="table-of-contents__link">DataPackageError</a></li><li><a href="#tableschemaerror" class="table-of-contents__link">TableSchemaError</a></li></ul></li><li><a href="#contributing" class="table-of-contents__link">Contributing</a></li><li><a href="#changelog---news" class="table-of-contents__link">Changelog - News</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/table-schema/python">Table Schema</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/data-package/python">Data Package</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/other-libraries/frictionless-ckan-mapper">Other Libraries</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://frictionlessdata.io/blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://github.com/frictionlessdata/project/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum</a></li><li class="footer__item"><a href="https://discordapp.com/invite/Sewv6av" target="_blank" rel="noopener noreferrer" class="footer__link-item">Chat</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/frictionlessdata/frictionless-py" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://twitter.com/frictionlessd8a" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://okfn.org" target="_blank" rel="noopener noreferrer" class="footerLogoLink_SRtH"><img src="https://a.okfn.org/img/oki/landscape-white-468x122.png" alt="Open Knowledge Foundation" class="themedImage_TMUO themedImage--light_4Vu1 footer__logo"><img src="https://a.okfn.org/img/oki/landscape-white-468x122.png" alt="Open Knowledge Foundation" class="themedImage_TMUO themedImage--dark_uzRr footer__logo"></a></div><div class="footer__copyright">Copyright Â© 2022 Frictionless Data</div></div></div></footer></div>
<script src="/assets/js/styles.45e1f58c.js"></script>
<script src="/assets/js/runtime~main.b4e7728f.js"></script>
<script src="/assets/js/main.06225ccf.js"></script>
<script src="/assets/js/1.74f8a88b.js"></script>
<script src="/assets/js/2.5cb85993.js"></script>
<script src="/assets/js/36.7e2d7ab1.js"></script>
<script src="/assets/js/935f2afb.dde02562.js"></script>
<script src="/assets/js/17896441.a1f31e75.js"></script>
<script src="/assets/js/d7450057.9ed5caea.js"></script>
</body>
</html>