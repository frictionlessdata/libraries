<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.72">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Frictionless Libraries Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Frictionless Libraries Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Frictionless Libraries" href="/opensearch.xml">
<link key="docusaurus-plugin-plausible-preconnect" rel="preconnect" href="https://plausible.io">
<script key="docusaurus-plugin-plausible-script" async defer="defer" data-domain="libraries.frictionlessdata.io" src="https://plausible.io/js/plausible.js"></script>
<script key="docusaurus-plugin-plausible-custom-events">window.plausible=window.plausible||function(){(window.plausible.q=window.plausible.q||[]).push(arguments)}</script><title data-react-helmet="true">datapackage-py | Frictionless Libraries</title><meta data-react-helmet="true" property="og:image" content="https://libraries.frictionlessdata.io/img/docusaurus.png"><meta data-react-helmet="true" name="twitter:image" content="https://libraries.frictionlessdata.io/img/docusaurus.png"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://libraries.frictionlessdata.io/docs/data-package/python"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="datapackage-py | Frictionless Libraries"><meta data-react-helmet="true" name="description" content="Build"><meta data-react-helmet="true" property="og:description" content="Build"><link data-react-helmet="true" rel="shortcut icon" href="/img/logo.png"><link data-react-helmet="true" rel="canonical" href="https://libraries.frictionlessdata.io/docs/data-package/python"><link data-react-helmet="true" rel="alternate" href="https://libraries.frictionlessdata.io/docs/data-package/python" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://libraries.frictionlessdata.io/docs/data-package/python" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.f0ac1d14.css">
<link rel="preload" href="/assets/js/styles.d473ca08.js" as="script">
<link rel="preload" href="/assets/js/runtime~main.d0157fd3.js" as="script">
<link rel="preload" href="/assets/js/main.3d085018.js" as="script">
<link rel="preload" href="/assets/js/1.dfe08b25.js" as="script">
<link rel="preload" href="/assets/js/2.da8d48d7.js" as="script">
<link rel="preload" href="/assets/js/36.6ede58b7.js" as="script">
<link rel="preload" href="/assets/js/935f2afb.6c2d3d17.js" as="script">
<link rel="preload" href="/assets/js/17896441.4a7b56e4.js" as="script">
<link rel="preload" href="/assets/js/552ba906.9c1a76a9.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_RReh"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Frictionless Libraries Logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/img/logo.png" alt="Frictionless Libraries Logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><strong class="navbar__title">Frictionless Libraries</strong></a><a class="navbar__item navbar__link" href="/docs/table-schema/python">Table Schema</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/data-package/python">Data Package</a><a class="navbar__item navbar__link" href="/docs/other-libraries/frictionless-ckan-mapper">Other Libraries</a><a class="navbar__item navbar__link" href="/docs/status">Status</a></div><div class="navbar__items navbar__items--right"><a href="https://frictionlessdata.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-mainsite-link">Back to the main site</a><a href="https://github.com/frictionlessdata/libraries" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_cxYs"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_iYfV">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_iYfV">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Frictionless Libraries Logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/img/logo.png" alt="Frictionless Libraries Logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><strong class="navbar__title">Frictionless Libraries</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/table-schema/python">Table Schema</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/data-package/python">Data Package</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/other-libraries/frictionless-ckan-mapper">Other Libraries</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/status">Status</a></li><li class="menu__list-item"><a href="https://frictionlessdata.io/" target="_blank" rel="noopener noreferrer" class="menu__link header-mainsite-link">Back to the main site</a></li><li class="menu__list-item"><a href="https://github.com/frictionlessdata/libraries" target="_blank" rel="noopener noreferrer" class="menu__link header-github-link" aria-label="GitHub repository"></a></li></ul></div></div></div></nav><div class="main-wrapper main-docs-wrapper"><div class="docPage_lDyR"><div class="docSidebarContainer_0YBq" role="complementary"><div class="sidebar_a3j0 sidebarWithHideableNavbar_VlPv"><a tabindex="-1" class="sidebarLogo_hmkv" href="/"><img src="/img/logo.png" alt="Frictionless Libraries Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo.png" alt="Frictionless Libraries Logo" class="themedImage_TMUO themedImage--dark_uzRr"><strong>Frictionless Libraries</strong></a><div class="menu menu--responsive thin-scrollbar menu_cyFh"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_iZzd" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" href="/docs/data-package/python">datapackage-py</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/data-package/javascript">datapackage-js</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/data-package/ruby">datapackage-rb</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/data-package/php">datapackage-php</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/data-package/java">datapackage-java</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/data-package/go">datapackage-go</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/data-package/rlang">datapackage-r</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/data-package/julia">datapackage-jl</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/data-package/swift">datapackage-swift</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/data-package/clojure">datapackage-clj</a></li></ul></div></div></div><main class="docMainContainer_r8cw"><div class="container padding-vert--lg docItemWrapper_NJLN"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><header><h1 class="docTitle_-X99">datapackage-py</h1></header><div class="markdown"><p><a href="https://github.com/frictionlessdata/datapackage-py/actions" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/github/workflow/status/frictionlessdata/datapackage-py/general/main" alt="Build"></a>
<a href="https://codecov.io/gh/frictionlessdata/datapackage-py" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/codecov/c/github/frictionlessdata/datapackage-py/main" alt="Coverage"></a>
<a href="https://pypi.python.org/pypi/datapackage" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/pypi/v/datapackage.svg" alt="Release"></a>
<a href="https://github.com/frictionlessdata/datapackage-py" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/badge/codebase-github-brightgreen" alt="Codebase"></a>
<a href="https://discordapp.com/invite/Sewv6av" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/badge/support-discord-brightgreen" alt="Support"></a></p><p>A library for working with <a href="http://specs.frictionlessdata.io/data-package/" target="_blank" rel="noopener noreferrer">Data Packages</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="features"></a>Features<a class="hash-link" href="#features" title="Direct link to heading">#</a></h2><ul><li><code>Package</code> class for working with data packages</li><li><code>Resource</code> class for working with data resources</li><li><code>Profile</code> class for working with profiles</li><li><code>validate</code> function for validating data package descriptors</li><li><code>infer</code> function for inferring data package descriptors</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="contents"></a>Contents<a class="hash-link" href="#contents" title="Direct link to heading">#</a></h2><ul><li><a href="#getting-started">Getting Started</a><ul><li><a href="#installation">Installation</a></li></ul></li><li><a href="#documentation">Documentation</a><ul><li><a href="#introduction">Introduction</a></li><li><a href="#working-with-package">Working with Package</a></li><li><a href="#working-with-resource">Working with Resource</a></li><li><a href="#working-with-group">Working with Group</a></li><li><a href="#working-with-profile">Working with Profile</a></li><li><a href="#working-with-foreign-keys">Working with Foreign Keys</a></li><li><a href="#working-with-validateinfer">Working with validate/infer</a></li><li><a href="#frequently-asked-questions">Frequently Asked Questions</a></li></ul></li><li><a href="#api-reference">API Reference</a><ul><li><a href="#cli"><code>cli</code></a></li><li><a href="#package"><code>Package</code></a></li><li><a href="#resource"><code>Resource</code></a></li><li><a href="#group"><code>Group</code></a></li><li><a href="#profile"><code>Profile</code></a></li><li><a href="#validate"><code>validate</code></a></li><li><a href="#infer"><code>infer</code></a></li><li><a href="#datapackageexception"><code>DataPackageException</code></a></li><li><a href="#tableschemaexception"><code>TableSchemaException</code></a></li><li><a href="#loaderror"><code>LoadError</code></a></li><li><a href="#casterror"><code>CastError</code></a></li><li><a href="#integrityerror"><code>IntegrityError</code></a></li><li><a href="#relationerror"><code>RelationError</code></a></li><li><a href="#storageerror"><code>StorageError</code></a></li></ul></li><li><a href="#contributing">Contributing</a></li><li><a href="#changelog">Changelog</a></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="getting-started"></a>Getting Started<a class="hash-link" href="#getting-started" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="installation"></a>Installation<a class="hash-link" href="#installation" title="Direct link to heading">#</a></h3><p>The package use semantic versioning. It means that major versions  could include breaking changes. It&#x27;s highly recommended to specify <code>datapackage</code> version range in your <code>setup/requirements</code> file e.g. <code>datapackage&gt;=1.0,&lt;2.0</code>.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">$ pip </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> datapackage</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="osx-1014"></a>OSX 10.14+<a class="hash-link" href="#osx-1014" title="Direct link to heading">#</a></h4><p>If you receive an error about the <code>cchardet</code> package when installing datapackage on Mac OSX 10.14 (Mojave) or higher, follow these steps:</p><ol><li>Make sure you have the latest x-code by running the following in terminal: <code>xcode-select --install</code></li><li>Then go to <a href="https://developer.apple.com/download/more/" target="_blank" rel="noopener noreferrer">https://developer.apple.com/download/more/</a> and download the <code>command line tools</code>. Note, this requires an Apple ID.</li><li>Then, in terminal, run <code>open /Library/Developer/CommandLineTools/Packages/macOS_SDK_headers_for_macOS_10.14.pkg</code>
You can read more about these steps in this <a href="https://stackoverflow.com/questions/52509602/cant-compile-c-program-on-a-mac-after-upgrade-to-mojave" target="_blank" rel="noopener noreferrer">post.</a></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="documentation"></a>Documentation<a class="hash-link" href="#documentation" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="introduction"></a>Introduction<a class="hash-link" href="#introduction" title="Direct link to heading">#</a></h3><p>Let&#x27;s start with a simple example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> datapackage </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Package</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">package </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Package</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;datapackage.json&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">package</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_resource</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;resource&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">read</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="working-with-package"></a>Working with Package<a class="hash-link" href="#working-with-package" title="Direct link to heading">#</a></h3><p>A class for working with data packages. It provides various capabilities like loading local or remote data package, inferring a data package descriptor, saving a data package descriptor and many more.</p><p>Consider we have some local csv files in a <code>data</code> directory. Let&#x27;s create a data package based on this data using a <code>Package</code> class:</p><blockquote><p>data/cities.csv</p></blockquote><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI csv"><div tabindex="0" class="prism-code language-csv codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">city,location</span></div><div class="token-line" style="color:#393A34"><span class="token plain">london,&quot;51.50,-0.11&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">paris,&quot;48.85,2.30&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">rome,&quot;41.89,12.51&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><blockquote><p>data/population.csv</p></blockquote><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI csv"><div tabindex="0" class="prism-code language-csv codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">city,year,population</span></div><div class="token-line" style="color:#393A34"><span class="token plain">london,2017,8780000</span></div><div class="token-line" style="color:#393A34"><span class="token plain">paris,2017,2240000</span></div><div class="token-line" style="color:#393A34"><span class="token plain">rome,2017,2860000</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>First we create a blank data package:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">package </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Package</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Now we&#x27;re ready to infer a data package descriptor based on data files we have. Because we have two csv files we use glob pattern <code>**/*.csv</code>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">package</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">infer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;**/*.csv&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">package</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">descriptor</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#{ profile: &#x27;tabular-data-package&#x27;,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#  resources:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#   [ { path: &#x27;data/cities.csv&#x27;,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#       profile: &#x27;tabular-data-resource&#x27;,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#       encoding: &#x27;utf-8&#x27;,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#       name: &#x27;cities&#x27;,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#       format: &#x27;csv&#x27;,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#       mediatype: &#x27;text/csv&#x27;,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#       schema: [Object] },</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     { path: &#x27;data/population.csv&#x27;,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#       profile: &#x27;tabular-data-resource&#x27;,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#       encoding: &#x27;utf-8&#x27;,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#       name: &#x27;population&#x27;,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#       format: &#x27;csv&#x27;,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#       mediatype: &#x27;text/csv&#x27;,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#       schema: [Object] } ] }</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>An <code>infer</code> method has found all our files and inspected it to extract useful metadata like profile, encoding, format, Table Schema etc. Let&#x27;s tweak it a little bit:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">package</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">descriptor</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;resources&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;schema&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;fields&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;type&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;year&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">package</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">commit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">package</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">valid </span><span class="token comment" style="color:#999988;font-style:italic"># true</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Because our resources are tabular we could read it as a tabular data:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">package</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_resource</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;population&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">read</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">keyed</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#[ { city: &#x27;london&#x27;, year: 2017, population: 8780000 },</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#  { city: &#x27;paris&#x27;, year: 2017, population: 2240000 },</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#  { city: &#x27;rome&#x27;, year: 2017, population: 2860000 } ]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Let&#x27;s save our descriptor on the disk as a zip-file:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">package</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;datapackage.zip&#x27;</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>To continue the work with the data package we just load it again but this time using local <code>datapackage.zip</code>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">package </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Package</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;datapackage.zip&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Continue the work</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>It was onle basic introduction to the <code>Package</code> class. To learn more let&#x27;s take a look on <code>Package</code> class API reference.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="working-with-resource"></a>Working with Resource<a class="hash-link" href="#working-with-resource" title="Direct link to heading">#</a></h3><p>A class for working with data resources. You can read or iterate tabular resources using the <code>iter/read</code> methods and all resource as bytes using <code>row_iter/row_read</code> methods.</p><p>Consider we have some local csv file. It could be inline data or remote link - all supported by <code>Resource</code> class (except local files for in-brower usage of course). But say it&#x27;s <code>data.csv</code> for now:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI csv"><div tabindex="0" class="prism-code language-csv codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">city,location</span></div><div class="token-line" style="color:#393A34"><span class="token plain">london,&quot;51.50,-0.11&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">paris,&quot;48.85,2.30&quot;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">rome,N/A</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Let&#x27;s create and read a resource. Because resource is tabular we could use <code>resource.read</code> method with a <code>keyed</code> option to get an array of keyed rows:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">resource </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Resource</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;data.csv&#x27;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">resource</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tabular </span><span class="token comment" style="color:#999988;font-style:italic"># true</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">resource</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">read</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">keyed</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># [</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#   {city: &#x27;london&#x27;, location: &#x27;51.50,-0.11&#x27;},</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#   {city: &#x27;paris&#x27;, location: &#x27;48.85,2.30&#x27;},</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#   {city: &#x27;rome&#x27;, location: &#x27;N/A&#x27;},</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">resource</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">headers</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># [&#x27;city&#x27;, &#x27;location&#x27;]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># (reading has to be started first)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>As we could see our locations are just a strings. But it should be geopoints. Also Rome&#x27;s location is not available but it&#x27;s also just a <code>N/A</code> string instead of Python <code>None</code>. First we have to infer resource metadata:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">resource</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">infer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">resource</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">descriptor</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#{ path: &#x27;data.csv&#x27;,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#  profile: &#x27;tabular-data-resource&#x27;,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#  encoding: &#x27;utf-8&#x27;,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#  name: &#x27;data&#x27;,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#  format: &#x27;csv&#x27;,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#  mediatype: &#x27;text/csv&#x27;,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># schema: { fields: [ [Object], [Object] ], missingValues: [ &#x27;&#x27; ] } }</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">resource</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">read</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">keyed</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Fails with a data validation error</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Let&#x27;s fix not available location. There is a <code>missingValues</code> property in Table Schema specification. As a first try we set <code>missingValues</code> to <code>N/A</code> in <code>resource.descriptor.schema</code>. Resource descriptor could be changed in-place but all changes should be commited by <code>resource.commit()</code>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">resource</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">descriptor</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;schema&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;missingValues&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;N/A&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">resource</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">commit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">resource</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">valid </span><span class="token comment" style="color:#999988;font-style:italic"># False</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">resource</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">errors</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># [&lt;ValidationError: &quot;&#x27;N/A&#x27; is not of type &#x27;array&#x27;&quot;&gt;]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>As a good citiziens we&#x27;ve decided to check out recource descriptor validity. And it&#x27;s not valid! We should use an array for <code>missingValues</code> property. Also don&#x27;t forget to have an empty string as a missing value:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">resource</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">descriptor</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;schema&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;missingValues&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;N/A&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">resource</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">commit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">resource</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">valid </span><span class="token comment" style="color:#999988;font-style:italic"># true</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>All good. It looks like we&#x27;re ready to read our data again:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">resource</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">read</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">keyed</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># [</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#   {city: &#x27;london&#x27;, location: [51.50,-0.11]},</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#   {city: &#x27;paris&#x27;, location: [48.85,2.30]},</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#   {city: &#x27;rome&#x27;, location: null},</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Now we see that:</p><ul><li>locations are arrays with numeric lattide and longitude</li><li>Rome&#x27;s location is a native JavaScript <code>null</code></li></ul><p>And because there are no errors on data reading we could be sure that our data is valid againt our schema. Let&#x27;s save our resource descriptor:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">resource</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;dataresource.json&#x27;</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Let&#x27;s check newly-crated <code>dataresource.json</code>. It contains path to our data file, inferred metadata and our <code>missingValues</code> tweak:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI json"><div tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;path&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;data.csv&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;profile&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;tabular-data-resource&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;encoding&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;utf-8&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;data&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;format&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;csv&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;mediatype&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;text/csv&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;schema&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;fields&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;city&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;string&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">&quot;format&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;default&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;location&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;geopoint&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token property" style="color:#36acaa">&quot;format&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;default&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;missingValues&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;N/A&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>If we decide to improve it even more we could update the <code>dataresource.json</code> file and then open it again using local file name:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">resource </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Resource</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;dataresource.json&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Continue the work</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>It was onle basic introduction to the <code>Resource</code> class. To learn more let&#x27;s take a look on <code>Resource</code> class API reference.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="working-with-group"></a>Working with Group<a class="hash-link" href="#working-with-group" title="Direct link to heading">#</a></h3><p>A class representing a group of tabular resources. Groups can be used to read multiple resource as one or to export them, for example, to a database as one table. To define a group add the <code>group: &lt;name&gt;</code> field to corresponding resources. The group&#x27;s metadata will be created from the &quot;leading&quot; resource&#x27;s metadata (the first resource with the group name).</p><p>Consider we have a data package with two tables partitioned by a year and a shared schema stored separately:</p><blockquote><p> cars-2017.csv</p></blockquote><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI csv"><div tabindex="0" class="prism-code language-csv codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">name,value</span></div><div class="token-line" style="color:#393A34"><span class="token plain">bmw,2017</span></div><div class="token-line" style="color:#393A34"><span class="token plain">tesla,2017</span></div><div class="token-line" style="color:#393A34"><span class="token plain">nissan,2017</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><blockquote><p> cars-2018.csv</p></blockquote><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI csv"><div tabindex="0" class="prism-code language-csv codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">name,value</span></div><div class="token-line" style="color:#393A34"><span class="token plain">bmw,2018</span></div><div class="token-line" style="color:#393A34"><span class="token plain">tesla,2018</span></div><div class="token-line" style="color:#393A34"><span class="token plain">nissan,2018</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><blockquote><p>cars.schema.json</p></blockquote><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI json"><div tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;fields&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;name&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;string&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;value&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;integer&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><blockquote><p>datapackage.json</p></blockquote><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI json"><div tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;datapackage&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;resources&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;group&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;cars&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;cars-2017&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;path&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;cars-2017.csv&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;profile&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;tabular-data-resource&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;schema&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;cars.schema.json&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;group&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;cars&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;cars-2018&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;path&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;cars-2018.csv&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;profile&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;tabular-data-resource&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;schema&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;cars.schema.json&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Let&#x27;s read the resources separately:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">package </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Package</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;datapackage.json&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">package</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_resource</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;cars-2017&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">read</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">keyed</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;name&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;bmw&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;value&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2017</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;name&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;tesla&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;value&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2017</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;name&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;nissan&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;value&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2017</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">package</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_resource</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;cars-2018&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">read</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">keyed</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;name&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;bmw&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;value&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2018</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;name&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;tesla&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;value&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2018</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;name&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;nissan&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;value&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2018</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>On the other hand, these resources defined with a <code>group: cars</code> field. It means we can treat them as a group:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">package </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Package</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;datapackage.json&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">package</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_group</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;cars&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">read</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">keyed</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;name&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;bmw&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;value&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2017</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;name&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;tesla&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;value&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2017</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;name&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;nissan&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;value&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2017</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;name&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;bmw&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;value&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2018</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;name&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;tesla&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;value&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2018</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;name&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;nissan&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;value&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2018</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>We can use this approach when we need to save the data package to a storage, for example, to a SQL database. There is the <code>merge_groups</code> flag to enable groupping behaviour:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">package </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Package</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;datapackage.json&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">package</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">storage</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;sql&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> engine</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">engine</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># SQL tables:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># - cars-2017</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># - cars-2018</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">package</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">storage</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;sql&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> engine</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">engine</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> merge_groups</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># SQL tables:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># - cars</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="working-with-profile"></a>Working with Profile<a class="hash-link" href="#working-with-profile" title="Direct link to heading">#</a></h3><p>A component to represent JSON Schema profile from <a href="https://specs.frictionlessdata.io/schemas/registry.json" target="_blank" rel="noopener noreferrer">Profiles Registry</a>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">profile </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Profile</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;data-package&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">profile</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name </span><span class="token comment" style="color:#999988;font-style:italic"># data-package</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">profile</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">jsonschema </span><span class="token comment" style="color:#999988;font-style:italic"># JSON Schema contents</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">   valid </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> profile</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">validate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">descriptor</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> exceptions</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ValidationError </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> exception</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> error </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> exception</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">errors</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic"># handle individual error</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="working-with-foreign-keys"></a>Working with Foreign Keys<a class="hash-link" href="#working-with-foreign-keys" title="Direct link to heading">#</a></h3><p>The library supports foreign keys described in the <a href="http://specs.frictionlessdata.io/table-schema/#foreign-keys" target="_blank" rel="noopener noreferrer">Table Schema</a> specification. It means if your data package descriptor use <code>resources[].schema.foreignKeys</code> property for some resources a data integrity will be checked on reading operations.</p><p>Consider we have a data package:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">DESCRIPTOR </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;resources&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&#x27;name&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;teams&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&#x27;data&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;id&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;name&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;city&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;1&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Arsenal&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;London&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;2&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Real&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Madrid&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;3&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Bayern&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Munich&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&#x27;schema&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&#x27;fields&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;name&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;id&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;type&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;integer&#x27;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;name&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;name&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;type&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;string&#x27;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;name&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;city&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;type&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;string&#x27;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&#x27;foreignKeys&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&#x27;fields&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;city&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&#x27;reference&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;resource&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;cities&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;fields&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;name&#x27;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&#x27;name&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;cities&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&#x27;data&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;name&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;country&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;London&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;England&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;Madrid&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Spain&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Let&#x27;s check relations for a <code>teams</code> resource:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> datapackage </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Package</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">package </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Package</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DESCRIPTOR</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">teams </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> package</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_resource</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;teams&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">teams</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">check_relations</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># tableschema.exceptions.RelationError: Foreign key &quot;[&#x27;city&#x27;]&quot; violation in row &quot;4&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>As we could see there is a foreign key violation. That&#x27;s because our lookup table <code>cities</code> doesn&#x27;t have a city of <code>Munich</code> but we have a team from there. We need to fix it in <code>cities</code> resource:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">package</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">descriptor</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;resources&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;data&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;Munich&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Germany&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">package</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">commit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">teams </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> package</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_resource</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;teams&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">teams</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">check_relations</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># True</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Fixed! But not only a check operation is available. We could use <code>relations</code> argument for <code>resource.iter/read</code> methods to dereference a resource relations:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">teams</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">read</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">keyed</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> relations</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#[{&#x27;id&#x27;: 1, &#x27;name&#x27;: &#x27;Arsenal&#x27;, &#x27;city&#x27;: {&#x27;name&#x27;: &#x27;London&#x27;, &#x27;country&#x27;: &#x27;England}},</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># {&#x27;id&#x27;: 2, &#x27;name&#x27;: &#x27;Real&#x27;, &#x27;city&#x27;: {&#x27;name&#x27;: &#x27;Madrid&#x27;, &#x27;country&#x27;: &#x27;Spain}},</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># {&#x27;id&#x27;: 3, &#x27;name&#x27;: &#x27;Bayern&#x27;, &#x27;city&#x27;: {&#x27;name&#x27;: &#x27;Munich&#x27;, &#x27;country&#x27;: &#x27;Germany}}]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Instead of plain city name we&#x27;ve got a dictionary containing a city data. These <code>resource.iter/read</code> methods will fail with the same as <code>resource.check_relations</code> error if there is an integrity issue. But only if <code>relations=True</code> flag is passed.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="working-with-validateinfer"></a>Working with validate/infer<a class="hash-link" href="#working-with-validateinfer" title="Direct link to heading">#</a></h3><p>A standalone function to validate a data package descriptor:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> datapackage </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> validate</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> exceptions</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    valid </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> validate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">descriptor</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> exceptions</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ValidationError </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> exception</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> error </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> exception</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">errors</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic"># handle individual error</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>A standalone function to infer a data package descriptor.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">descriptor </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> infer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;**/*.csv&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#{ profile: &#x27;tabular-data-resource&#x27;,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#  resources:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#   [ { path: &#x27;data/cities.csv&#x27;,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#       profile: &#x27;tabular-data-resource&#x27;,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#       encoding: &#x27;utf-8&#x27;,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#       name: &#x27;cities&#x27;,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#       format: &#x27;csv&#x27;,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#       mediatype: &#x27;text/csv&#x27;,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#       schema: [Object] },</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#     { path: &#x27;data/population.csv&#x27;,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#       profile: &#x27;tabular-data-resource&#x27;,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#       encoding: &#x27;utf-8&#x27;,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#       name: &#x27;population&#x27;,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#       format: &#x27;csv&#x27;,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#       mediatype: &#x27;text/csv&#x27;,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#       schema: [Object] } ] }</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="frequently-asked-questions"></a>Frequently Asked Questions<a class="hash-link" href="#frequently-asked-questions" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="accessing-data-behind-a-proxy-server"></a>Accessing data behind a proxy server?<a class="hash-link" href="#accessing-data-behind-a-proxy-server" title="Direct link to heading">#</a></h4><p>Before the <code>package = Package(&quot;https://xxx.json&quot;)</code> call set these environment variables:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> os</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">environ</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;HTTP_PROXY&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;xxx&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">environ</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;HTTPS_PROXY&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;xxx&#x27;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="api-reference"></a>API Reference<a class="hash-link" href="#api-reference" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="cli"></a><code>cli</code><a class="hash-link" href="#cli" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">cli</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Command-line interface</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">Usage: datapackage [OPTIONS] COMMAND [ARGS]...</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Options:</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  --version  Show the version and exit.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  --help     Show this message and exit.</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Commands:</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  infer</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  validate</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="package"></a><code>Package</code><a class="hash-link" href="#package" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">Package</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        descriptor</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        base_path</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        strict</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        unsafe</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        storage</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        schema</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        default_base_path</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">options</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Package representation</p><p><strong>Arguments</strong></p><ul><li><strong>descriptor (str/dict)</strong>: data package descriptor as local path, url or object</li><li><strong>base_path (str)</strong>: base path for all relative paths</li><li><strong>strict (bool)</strong>: strict flag to alter validation behavior.
Setting it to <code>True</code> leads to throwing errors
on any operation with invalid descriptor</li><li><strong>unsafe (bool)</strong>:
if <code>True</code> unsafe paths will be allowed. For more inforamtion
<a href="https://specs.frictionlessdata.io/data-resource/#data-location" target="_blank" rel="noopener noreferrer">https://specs.frictionlessdata.io/data-resource/#data-location</a>.
Default to <code>False</code></li><li><strong>storage (str/tableschema.Storage)</strong>: storage name like <code>sql</code> or storage instance</li><li><strong>options (dict)</strong>: storage options to use for storage creation</li></ul><p><strong>Raises</strong></p><ul><li><code>DataPackageException</code>: raises error if something goes wrong</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="packagebase_path"></a><code>package.base_path</code><a class="hash-link" href="#packagebase_path" title="Direct link to heading">#</a></h4><p>Package&#x27;s base path</p><p><strong>Returns</strong></p><p><code>str/None</code>: returns the data package base path</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="packagedescriptor"></a><code>package.descriptor</code><a class="hash-link" href="#packagedescriptor" title="Direct link to heading">#</a></h4><p>Package&#x27;s descriptor</p><p><strong>Returns</strong></p><p><code>dict</code>: descriptor</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="packageerrors"></a><code>package.errors</code><a class="hash-link" href="#packageerrors" title="Direct link to heading">#</a></h4><p>Validation errors</p><p>Always empty in strict mode.</p><p><strong>Returns</strong></p><p><code>Exception[]</code>: validation errors</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="packageprofile"></a><code>package.profile</code><a class="hash-link" href="#packageprofile" title="Direct link to heading">#</a></h4><p>Package&#x27;s profile</p><p><strong>Returns</strong></p><p><code>Profile</code>: an instance of <code>Profile</code> class</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="packageresource_names"></a><code>package.resource_names</code><a class="hash-link" href="#packageresource_names" title="Direct link to heading">#</a></h4><p>Package&#x27;s resource names</p><p><strong>Returns</strong></p><p><code>str[]</code>: returns an array of resource names</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="packageresources"></a><code>package.resources</code><a class="hash-link" href="#packageresources" title="Direct link to heading">#</a></h4><p>Package&#x27;s resources</p><p><strong>Returns</strong></p><p><code>Resource[]</code>: returns an array of <code>Resource</code> instances</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="packagevalid"></a><code>package.valid</code><a class="hash-link" href="#packagevalid" title="Direct link to heading">#</a></h4><p>Validation status</p><p>Always true in strict mode.</p><p><strong>Returns</strong></p><p><code>bool</code>: validation status</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="packageget_resource"></a><code>package.get_resource</code><a class="hash-link" href="#packageget_resource" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">package</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_resource</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Get data package resource by name.</p><p><strong>Arguments</strong></p><ul><li><strong>name (str)</strong>: data resource name</li></ul><p><strong>Returns</strong></p><p><code>Resource/None</code>: returns <code>Resource</code> instances or null if not found</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="packageadd_resource"></a><code>package.add_resource</code><a class="hash-link" href="#packageadd_resource" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">package</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_resource</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">descriptor</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Add new resource to data package.</p><p>The data package descriptor will be validated with newly added resource descriptor.</p><p><strong>Arguments</strong></p><ul><li><strong>descriptor (dict)</strong>: data resource descriptor</li></ul><p><strong>Raises</strong></p><ul><li><code>DataPackageException</code>: raises error if something goes wrong</li></ul><p><strong>Returns</strong></p><p><code>Resource/None</code>: returns added <code>Resource</code> instance or null if not added</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="packageremove_resource"></a><code>package.remove_resource</code><a class="hash-link" href="#packageremove_resource" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">package</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">remove_resource</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Remove data package resource by name.</p><p>The data package descriptor will be validated after resource descriptor removal.</p><p><strong>Arguments</strong></p><ul><li><strong>name (str)</strong>: data resource name</li></ul><p><strong>Raises</strong></p><ul><li><code>DataPackageException</code>: raises error if something goes wrong</li></ul><p><strong>Returns</strong></p><p><code>Resource/None</code>: returns removed <code>Resource</code> instances or null if not found</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="packageget_group"></a><code>package.get_group</code><a class="hash-link" href="#packageget_group" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">package</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_group</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Returns a group of tabular resources by name.</p><p>For more information about groups see <a href="#group">Group</a>.</p><p><strong>Arguments</strong></p><ul><li><strong>name (str)</strong>: name of a group of resources</li></ul><p><strong>Raises</strong></p><ul><li><code>DataPackageException</code>: raises error if something goes wrong</li></ul><p><strong>Returns</strong></p><p><code>Group/None</code>: returns a <code>Group</code> instance or null if not found</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="packageinfer"></a><code>package.infer</code><a class="hash-link" href="#packageinfer" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">package</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">infer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pattern</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Infer a data package metadata.</p><blockquote><p>Argument <code>pattern</code> works only for local files</p></blockquote><p>If <code>pattern</code> is not provided only existent resources will be inferred
(added metadata like encoding, profile etc). If <code>pattern</code> is provided
new resoures with file names mathing the pattern will be added and inferred.
It commits changes to data package instance.</p><p><strong>Arguments</strong></p><ul><li><strong>pattern (str)</strong>: glob pattern for new resources</li></ul><p><strong>Returns</strong></p><p><code>dict</code>: returns data package descriptor</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="packagecommit"></a><code>package.commit</code><a class="hash-link" href="#packagecommit" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">package</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">commit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">strict</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Update data package instance if there are in-place changes in the descriptor.</p><p><strong>Example</strong></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">package </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Package</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&#x27;name&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;package&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&#x27;resources&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;name&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;resource&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;data&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;data&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">package</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name </span><span class="token comment" style="color:#999988;font-style:italic"># package</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">package</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">descriptor</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;name&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;renamed-package&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">package</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name </span><span class="token comment" style="color:#999988;font-style:italic"># package</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">package</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">commit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">package</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name </span><span class="token comment" style="color:#999988;font-style:italic"># renamed-package</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p><strong>Arguments</strong></p><ul><li><strong>strict (bool)</strong>: alter <code>strict</code> mode for further work</li></ul><p><strong>Raises</strong></p><ul><li><code>DataPackageException</code>: raises error if something goes wrong</li></ul><p><strong>Returns</strong></p><p><code>bool</code>: returns true on success and false if not modified</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="packagesave"></a><code>package.save</code><a class="hash-link" href="#packagesave" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">package</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">target</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">             storage</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">             merge_groups</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">             to_base_path</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">             </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">options</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Saves this data package</p><p>It saves it to storage if <code>storage</code> argument is passed or
saves this data package&#x27;s descriptor to json file if <code>target</code> arguments
ends with <code>.json</code> or saves this data package to zip file otherwise.</p><p><strong>Example</strong></p><p>It creates a zip file into <code>file_or_path</code> with the contents
of this Data Package and its resources. Every resource which content
lives in the local filesystem will be copied to the zip file.
Consider the following Data Package descriptor:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI json"><div tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;gdp&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;resources&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;local&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;format&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;CSV&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;path&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;data.csv&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;inline&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;data&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">15</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">23</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">42</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;remote&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;url&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;http://someplace.com/data.csv&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>The final structure of the zip file will be:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">./datapackage.json</span></div><div class="token-line" style="color:#393A34"><span class="token plain">./data/local.csv</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>With the contents of <code>datapackage.json</code> being the same as
returned <code>datapackage.descriptor</code>. The resources&#x27; file names are generated
based on their <code>name</code> and <code>format</code> fields if they exist.
If the resource has no <code>name</code>, it&#x27;ll be used <code>resource-X</code>,
where <code>X</code> is the index of the resource in the <code>resources</code> list (starting at zero).
If the resource has <code>format</code>, it&#x27;ll be lowercased and appended to the <code>name</code>,
becoming &quot;<code>name.format</code>&quot;.</p><p><strong>Arguments</strong></p><ul><li><strong>target (string/filelike)</strong>:
the file path or a file-like object where
the contents of this Data Package will be saved into.</li><li><strong>storage (str/tableschema.Storage)</strong>:
storage name like <code>sql</code> or storage instance</li><li><strong>merge_groups (bool)</strong>:
save all the group&#x27;s tabular resoruces into one bucket
if a storage is provided (for example into one SQL table).
Read more about <a href="#group">Group</a>.</li><li><strong>to_base_path (bool)</strong>:
save the package to the package&#x27;s base path
using the &quot;\&lt;base_path&gt;/\&lt;target&gt;&quot; route</li><li><strong>options (dict)</strong>:
storage options to use for storage creation</li></ul><p><strong>Raises</strong></p><ul><li><code>DataPackageException</code>: raises if there was some error writing the package</li></ul><p><strong>Returns</strong></p><p><code>bool/Storage</code>: on success return true or a <code>Storage</code> instance</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="resource"></a><code>Resource</code><a class="hash-link" href="#resource" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">Resource</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">         descriptor</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">         base_path</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">         strict</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">         unsafe</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">         storage</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">         package</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">options</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Resource represenation</p><p><strong>Arguments</strong></p><ul><li><strong>descriptor (str/dict)</strong>: data resource descriptor as local path, url or object</li><li><strong>base_path (str)</strong>: base path for all relative paths</li><li><strong>strict (bool)</strong>:
strict flag to alter validation behavior.  Setting it to <code>true</code>
leads to throwing errors on any operation with invalid descriptor</li><li><strong>unsafe (bool)</strong>:
if <code>True</code> unsafe paths will be allowed. For more inforamtion
<a href="https://specs.frictionlessdata.io/data-resource/#data-location" target="_blank" rel="noopener noreferrer">https://specs.frictionlessdata.io/data-resource/#data-location</a>.
Default to <code>False</code></li><li><strong>storage (str/tableschema.Storage)</strong>: storage name like <code>sql</code> or storage instance</li><li><strong>options (dict)</strong>: storage options to use for storage creation</li></ul><p><strong>Raises</strong></p><ul><li><code>DataPackageException</code>: raises error if something goes wrong</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourcedata"></a><code>resource.data</code><a class="hash-link" href="#resourcedata" title="Direct link to heading">#</a></h4><p>Return resource data</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourcedescriptor"></a><code>resource.descriptor</code><a class="hash-link" href="#resourcedescriptor" title="Direct link to heading">#</a></h4><p>Package&#x27;s descriptor</p><p><strong>Returns</strong></p><p><code>dict</code>: descriptor</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourceerrors"></a><code>resource.errors</code><a class="hash-link" href="#resourceerrors" title="Direct link to heading">#</a></h4><p>Validation errors</p><p>Always empty in strict mode.</p><p><strong>Returns</strong></p><p><code>Exception[]</code>: validation errors</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourcegroup"></a><code>resource.group</code><a class="hash-link" href="#resourcegroup" title="Direct link to heading">#</a></h4><p>Group name</p><p><strong>Returns</strong></p><p><code>str</code>: group name</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourceheaders"></a><code>resource.headers</code><a class="hash-link" href="#resourceheaders" title="Direct link to heading">#</a></h4><p>Resource&#x27;s headers</p><blockquote><p>Only for tabular resources (reading has to be started first or it&#x27;s <code>None</code>)</p></blockquote><p><strong>Returns</strong></p><p><code>str[]/None</code>: returns data source headers</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourceinline"></a><code>resource.inline</code><a class="hash-link" href="#resourceinline" title="Direct link to heading">#</a></h4><p>Whether resource inline</p><p><strong>Returns</strong></p><p><code>bool</code>: returns true if resource is inline</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourcelocal"></a><code>resource.local</code><a class="hash-link" href="#resourcelocal" title="Direct link to heading">#</a></h4><p>Whether resource local</p><p><strong>Returns</strong></p><p><code>bool</code>: returns true if resource is local</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourcemultipart"></a><code>resource.multipart</code><a class="hash-link" href="#resourcemultipart" title="Direct link to heading">#</a></h4><p>Whether resource multipart</p><p><strong>Returns</strong></p><p><code>bool</code>: returns true if resource is multipart</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourcename"></a><code>resource.name</code><a class="hash-link" href="#resourcename" title="Direct link to heading">#</a></h4><p>Resource name</p><p><strong>Returns</strong></p><p><code>str</code>: name</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourcepackage"></a><code>resource.package</code><a class="hash-link" href="#resourcepackage" title="Direct link to heading">#</a></h4><p>Package instance if the resource belongs to some package</p><p><strong>Returns</strong></p><p><code>Package/None</code>: a package instance if available</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourceprofile"></a><code>resource.profile</code><a class="hash-link" href="#resourceprofile" title="Direct link to heading">#</a></h4><p>Resource&#x27;s profile</p><p><strong>Returns</strong></p><p><code>Profile</code>: an instance of <code>Profile</code> class</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourceremote"></a><code>resource.remote</code><a class="hash-link" href="#resourceremote" title="Direct link to heading">#</a></h4><p>Whether resource remote</p><p><strong>Returns</strong></p><p><code>bool</code>: returns true if resource is remote</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourceschema"></a><code>resource.schema</code><a class="hash-link" href="#resourceschema" title="Direct link to heading">#</a></h4><p>Resource&#x27;s schema</p><blockquote><p>Only for tabular resources</p></blockquote><p>For tabular resources it returns <code>Schema</code> instance to interact with data schema.
Read API documentation - <a href="https://github.com/frictionlessdata/tableschema-py#schema" target="_blank" rel="noopener noreferrer">tableschema.Schema</a>.</p><p><strong>Returns</strong></p><p><code>tableschema.Schema</code>: schema</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourcesource"></a><code>resource.source</code><a class="hash-link" href="#resourcesource" title="Direct link to heading">#</a></h4><p>Resource&#x27;s source</p><p>Combination of <code>resource.source</code> and <code>resource.inline/local/remote/multipart</code>
provides predictable interface to work with resource data.</p><p><strong>Returns</strong></p><p><code>list/str</code>: returns <code>data</code> or <code>path</code> property</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourcetable"></a><code>resource.table</code><a class="hash-link" href="#resourcetable" title="Direct link to heading">#</a></h4><p>Return resource table</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourcetabular"></a><code>resource.tabular</code><a class="hash-link" href="#resourcetabular" title="Direct link to heading">#</a></h4><p>Whether resource tabular</p><p><strong>Returns</strong></p><p><code>bool</code>: returns true if resource is tabular</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourcevalid"></a><code>resource.valid</code><a class="hash-link" href="#resourcevalid" title="Direct link to heading">#</a></h4><p>Validation status</p><p>Always true in strict mode.</p><p><strong>Returns</strong></p><p><code>bool</code>: validation status</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourceiter"></a><code>resource.iter</code><a class="hash-link" href="#resourceiter" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">resource</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">iter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">integrity</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> relations</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">options</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Iterates through the resource data and emits rows cast based on table schema.</p><blockquote><p>Only for tabular resources</p></blockquote><p><strong>Arguments</strong></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">keyed (bool):</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    yield keyed rows in a form of `{header1: value1, header2: value2}`</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    (default is false; the form of rows is `[value1, value2]`)</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">extended (bool):</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    yield extended rows in a for of `[rowNumber, [header1, header2], [value1, value2]]`</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    (default is false; the form of rows is `[value1, value2]`)</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">cast (bool):</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    disable data casting if false</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    (default is true)</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">integrity (bool):</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    if true actual size in BYTES and SHA256 hash of the file</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    will be checked against `descriptor.bytes` and `descriptor.hash`</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    (other hashing algorithms are not supported and will be skipped silently)</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">relations (bool):</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    if true foreign key fields will be checked and resolved to its references</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">foreign_keys_values (dict):</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    three-level dictionary of foreign key references optimized</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    to speed up validation process in a form of</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    `{resource1: {(fk_field1, fk_field2): {(value1, value2): {one_keyedrow}, ... }}}`.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    If not provided but relations is true, it will be created</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    before the validation process by *index_foreign_keys_values* method</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">exc_handler (func):</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    optional custom exception handler callable.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Can be used to defer raising errors (i.e. &quot;fail late&quot;), e.g.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    for data validation purposes. Must support the signature below</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p><strong>Custom exception handler</strong></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">exc_handler</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">exc</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> row_number</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> row_data</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> error_data</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">&#x27;&#x27;&#x27;Custom exception handler (example)</span></div><div class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="display:inline-block;color:#e3116c">
</span></div><div class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    # Arguments:</span></div><div class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        exc(Exception):</span></div><div class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">            Deferred exception instance</span></div><div class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        row_number(int):</span></div><div class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">            Data row number that triggers exception exc</span></div><div class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        row_data(OrderedDict):</span></div><div class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">            Invalid data row source data</span></div><div class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        error_data(OrderedDict):</span></div><div class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">            Data row source data field subset responsible for the error, if</span></div><div class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">            applicable (e.g. invalid primary or foreign key fields). May be</span></div><div class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">            identical to row_data.</span></div><div class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    &#x27;&#x27;&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># ...</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p><strong>Raises</strong></p><ul><li><code>DataPackageException</code>: base class of any error</li><li><code>CastError</code>: data cast error</li><li><code>IntegrityError</code>: integrity checking error</li><li><code>UniqueKeyError</code>: unique key constraint violation</li><li><code>UnresolvedFKError</code>: unresolved foreign key reference error</li></ul><p><strong>Returns</strong></p><p><code>Iterator[list]</code>: yields rows</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourceread"></a><code>resource.read</code><a class="hash-link" href="#resourceread" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">resource</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">read</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">integrity</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">              relations</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">              foreign_keys_values</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">options</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Read the whole resource and return as array of rows</p><blockquote><p>Only for tabular resources
It has the same API as <code>resource.iter</code> except for</p></blockquote><p><strong>Arguments</strong></p><ul><li><strong>limit (int)</strong>: limit count of rows to read and return</li></ul><p><strong>Returns</strong></p><p><code>list[]</code>: returns rows</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourcecheck_integrity"></a><code>resource.check_integrity</code><a class="hash-link" href="#resourcecheck_integrity" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">resource</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">check_integrity</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Checks resource integrity</p><blockquote><p>Only for tabular resources</p></blockquote><p>It checks size in BYTES and SHA256 hash of the file
against <code>descriptor.bytes</code> and <code>descriptor.hash</code>
(other hashing algorithms are not supported and will be skipped silently).</p><p><strong>Raises</strong></p><ul><li><code>exceptions.IntegrityError</code>: raises if there are integrity issues</li></ul><p><strong>Returns</strong></p><p><code>bool</code>: returns True if no issues</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourcecheck_relations"></a><code>resource.check_relations</code><a class="hash-link" href="#resourcecheck_relations" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">resource</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">check_relations</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">foreign_keys_values</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Check relations</p><blockquote><p>Only for tabular resources</p></blockquote><p>It checks foreign keys and raises an exception if there are integrity issues.</p><p><strong>Raises</strong></p><ul><li><code>exceptions.RelationError</code>: raises if there are relation issues</li></ul><p><strong>Returns</strong></p><p><code>bool</code>: returns True if no issues</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourcedrop_relations"></a><code>resource.drop_relations</code><a class="hash-link" href="#resourcedrop_relations" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">resource</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">drop_relations</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Drop relations</p><blockquote><p>Only for tabular resources</p></blockquote><p>Remove relations data from memory</p><p><strong>Returns</strong></p><p><code>bool</code>: returns True</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourceraw_iter"></a><code>resource.raw_iter</code><a class="hash-link" href="#resourceraw_iter" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">resource</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">raw_iter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">stream</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Iterate over data chunks as bytes.</p><p>If <code>stream</code> is true File-like object will be returned.</p><p><strong>Arguments</strong></p><ul><li><strong>stream (bool)</strong>: File-like object will be returned</li></ul><p><strong>Returns</strong></p><p><code>bytes[]/filelike</code>: returns bytes[]/filelike</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourceraw_read"></a><code>resource.raw_read</code><a class="hash-link" href="#resourceraw_read" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">resource</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">raw_read</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Returns resource data as bytes.</p><p><strong>Returns</strong></p><p><code>bytes</code>: returns resource data in bytes</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourceinfer"></a><code>resource.infer</code><a class="hash-link" href="#resourceinfer" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">resource</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">infer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">**</span><span class="token plain">options</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Infer resource metadata</p><p>Like name, format, mediatype, encoding, schema and profile.
It commits this changes into resource instance.</p><p><strong>Arguments</strong></p><ul><li><strong>options</strong>:
options will be passed to <code>tableschema.infer</code> call,
for more control on results (e.g. for setting <code>limit</code>, <code>confidence</code> etc.).</li></ul><p><strong>Returns</strong></p><p><code>dict</code>: returns resource descriptor</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourcecommit"></a><code>resource.commit</code><a class="hash-link" href="#resourcecommit" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">resource</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">commit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">strict</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Update resource instance if there are in-place changes in the descriptor.</p><p><strong>Arguments</strong></p><ul><li><strong>strict (bool)</strong>: alter <code>strict</code> mode for further work</li></ul><p><strong>Raises</strong></p><ul><li><code>DataPackageException</code>: raises error if something goes wrong</li></ul><p><strong>Returns</strong></p><p><code>bool</code>: returns true on success and false if not modified</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="resourcesave"></a><code>resource.save</code><a class="hash-link" href="#resourcesave" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">resource</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">save</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">target</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> storage</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> to_base_path</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">options</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Saves this resource</p><p>Into storage if <code>storage</code> argument is passed or
saves this resource&#x27;s descriptor to json file otherwise.</p><p><strong>Arguments</strong></p><ul><li><strong>target (str)</strong>:
path where to save a resource</li><li><strong>storage (str/tableschema.Storage)</strong>:
storage name like <code>sql</code> or storage instance</li><li><strong>to_base_path (bool)</strong>:
save the resource to the resource&#x27;s base path
using the &quot;\&lt;base_path&gt;/\&lt;target&gt;&quot; route</li><li><strong>options (dict)</strong>:
storage options to use for storage creation</li></ul><p><strong>Raises</strong></p><ul><li><code>DataPackageException</code>: raises error if something goes wrong</li></ul><p><strong>Returns</strong></p><p><code>bool</code>: returns true on success
Building index...
Started generating documentation...</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="group"></a><code>Group</code><a class="hash-link" href="#group" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">Group</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> resources</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Group representation</p><p><strong>Arguments</strong></p><ul><li><strong>Resource[]</strong>: list of TABULAR resources</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="groupheaders"></a><code>group.headers</code><a class="hash-link" href="#groupheaders" title="Direct link to heading">#</a></h4><p>Group&#x27;s headers</p><p><strong>Returns</strong></p><p><code>str[]/None</code>: returns headers</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="groupname"></a><code>group.name</code><a class="hash-link" href="#groupname" title="Direct link to heading">#</a></h4><p>Group name</p><p><strong>Returns</strong></p><p><code>str</code>: name</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="groupschema"></a><code>group.schema</code><a class="hash-link" href="#groupschema" title="Direct link to heading">#</a></h4><p>Resource&#x27;s schema</p><p><strong>Returns</strong></p><p><code>tableschema.Schema</code>: schema</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="groupiter"></a><code>group.iter</code><a class="hash-link" href="#groupiter" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">group</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">iter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">**</span><span class="token plain">options</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Iterates through the group data and emits rows cast based on table schema.</p><blockquote><p>It concatenates all the resources and has the same API as <code>resource.iter</code></p></blockquote><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="groupread"></a><code>group.read</code><a class="hash-link" href="#groupread" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">group</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">read</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">limit</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">options</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Read the whole group and return as array of rows</p><blockquote><p>It concatenates all the resources and has the same API as <code>resource.read</code></p></blockquote><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="groupcheck_relations"></a><code>group.check_relations</code><a class="hash-link" href="#groupcheck_relations" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">group</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">check_relations</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Check group&#x27;s relations</p><p>The same as <code>resource.check_relations</code> but without the optional
argument <em>foreign_keys_values</em>.  This method will test foreignKeys of the
whole group at once otpimizing the process by creating the foreign_key_values
hashmap only once before testing the set of resources.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="profile"></a><code>Profile</code><a class="hash-link" href="#profile" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">Profile</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> profile</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Profile representation</p><p><strong>Arguments</strong></p><ul><li><strong>profile (str)</strong>: profile name in registry or URL to JSON Schema</li></ul><p><strong>Raises</strong></p><ul><li><code>DataPackageException</code>: raises error if something goes wrong</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="profilejsonschema"></a><code>profile.jsonschema</code><a class="hash-link" href="#profilejsonschema" title="Direct link to heading">#</a></h4><p>JSONSchema content</p><p><strong>Returns</strong></p><p><code>dict</code>: returns profile&#x27;s JSON Schema contents</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="profilename"></a><code>profile.name</code><a class="hash-link" href="#profilename" title="Direct link to heading">#</a></h4><p>Profile name</p><p><strong>Returns</strong></p><p><code>str/None</code>: name if available</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="profilevalidate"></a><code>profile.validate</code><a class="hash-link" href="#profilevalidate" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">profile</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">validate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">descriptor</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Validate a data package <code>descriptor</code> against the profile.</p><p><strong>Arguments</strong></p><ul><li><strong>descriptor (dict)</strong>: retrieved and dereferenced data package descriptor</li></ul><p><strong>Raises</strong></p><ul><li><code>ValidationError</code>: raises if not valid
<strong>Returns</strong></li></ul><p><code>bool</code>: returns True if valid</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="validate"></a><code>validate</code><a class="hash-link" href="#validate" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">validate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">descriptor</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Validate a data package descriptor.</p><p><strong>Arguments</strong></p><ul><li><strong>descriptor (str/dict)</strong>: package descriptor (one of):<div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><div tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">- local path</span></div><div class="token-line" style="color:#393A34"><span class="token plain">- remote url</span></div><div class="token-line" style="color:#393A34"><span class="token plain">- object</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div></li></ul><p><strong>Raises</strong></p><ul><li><code>ValidationError</code>: raises on invalid</li></ul><p><strong>Returns</strong></p><p><code>bool</code>: returns true on valid</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="infer"></a><code>infer</code><a class="hash-link" href="#infer" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">infer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pattern</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> base_path</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Infer a data package descriptor.</p><blockquote><p>Argument <code>pattern</code> works only for local files</p></blockquote><p><strong>Arguments</strong></p><ul><li><strong>pattern (str)</strong>: glob file pattern</li></ul><p><strong>Returns</strong></p><p><code>dict</code>: returns data package descriptor</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="datapackageexception"></a><code>DataPackageException</code><a class="hash-link" href="#datapackageexception" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">DataPackageException</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> message</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> errors</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Base class for all DataPackage/TableSchema exceptions.</p><p>If there are multiple errors, they can be read from the exception object:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># lib action</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> DataPackageException </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> exception</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> exception</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">multiple</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> error </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> exception</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">errors</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># handle error</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="datapackageexceptionerrors"></a><code>datapackageexception.errors</code><a class="hash-link" href="#datapackageexceptionerrors" title="Direct link to heading">#</a></h4><p>List of nested errors</p><p><strong>Returns</strong></p><p><code>DataPackageException[]</code>: list of nested errors</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="datapackageexceptionmultiple"></a><code>datapackageexception.multiple</code><a class="hash-link" href="#datapackageexceptionmultiple" title="Direct link to heading">#</a></h4><p>Whether it&#x27;s a nested exception</p><p><strong>Returns</strong></p><p><code>bool</code>: whether it&#x27;s a nested exception</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="tableschemaexception"></a><code>TableSchemaException</code><a class="hash-link" href="#tableschemaexception" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">TableSchemaException</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> message</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> errors</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Base class for all TableSchema exceptions.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="loaderror"></a><code>LoadError</code><a class="hash-link" href="#loaderror" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">LoadError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> message</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> errors</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>All loading errors.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="casterror"></a><code>CastError</code><a class="hash-link" href="#casterror" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">CastError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> message</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> errors</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>All value cast errors.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="integrityerror"></a><code>IntegrityError</code><a class="hash-link" href="#integrityerror" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">IntegrityError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> message</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> errors</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>All integrity errors.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="relationerror"></a><code>RelationError</code><a class="hash-link" href="#relationerror" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">RelationError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> message</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> errors</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>All relations errors.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="storageerror"></a><code>StorageError</code><a class="hash-link" href="#storageerror" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">StorageError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> message</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> errors</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>All storage errors.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="contributing"></a>Contributing<a class="hash-link" href="#contributing" title="Direct link to heading">#</a></h2><blockquote><p>The project follows the <a href="https://github.com/okfn/coding-standards" target="_blank" rel="noopener noreferrer">Open Knowledge International coding standards</a>.</p></blockquote><p>Recommended way to get started is to create and activate a project virtual environment.
To install package and development dependencies into active environment:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">make</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>To run tests with linting and coverage:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">make</span><span class="token plain"> </span><span class="token builtin class-name">test</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="changelog"></a>Changelog<a class="hash-link" href="#changelog" title="Direct link to heading">#</a></h2><p>Here described only breaking and the most important changes. The full changelog and documentation for all released versions could be found in nicely formatted <a href="https://github.com/frictionlessdata/datapackage-py/commits/master" target="_blank" rel="noopener noreferrer">commit history</a>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="v115"></a>v1.15<a class="hash-link" href="#v115" title="Direct link to heading">#</a></h4><blockquote><p>WARNING: it can be breaking for some setups, please read the discussions below</p></blockquote><ul><li>Fixed header management according to the specs:<ul><li><a href="https://github.com/frictionlessdata/datapackage-py/pull/257" target="_blank" rel="noopener noreferrer">https://github.com/frictionlessdata/datapackage-py/pull/257</a></li><li><a href="https://github.com/frictionlessdata/datapackage-py/issues/256" target="_blank" rel="noopener noreferrer">https://github.com/frictionlessdata/datapackage-py/issues/256</a></li><li><a href="https://github.com/frictionlessdata/forum/issues/1" target="_blank" rel="noopener noreferrer">https://github.com/frictionlessdata/forum/issues/1</a></li></ul></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="v114"></a>v1.14<a class="hash-link" href="#v114" title="Direct link to heading">#</a></h4><ul><li>Add experimental options for pick/skiping fileds/rows</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="v113"></a>v1.13<a class="hash-link" href="#v113" title="Direct link to heading">#</a></h4><ul><li>Add <code>unsafe</code> option to Package and Resource (#262)</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="v112"></a>v1.12<a class="hash-link" href="#v112" title="Direct link to heading">#</a></h4><ul><li>Use <code>chardet</code> for encoding deteciton by default. For <code>cchardet</code>: <code>pip install datapackage[cchardet]</code></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="v111"></a>v1.11<a class="hash-link" href="#v111" title="Direct link to heading">#</a></h4><ul><li><code>resource/package.save</code> now accept a <code>to_base_path</code> argument (#254)</li><li><code>package.save</code> now returns a <code>Storage</code> instance if available</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="v110"></a>v1.10<a class="hash-link" href="#v110" title="Direct link to heading">#</a></h4><ul><li>Added an ability to check tabular resource&#x27;s integrity</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="v19"></a>v1.9<a class="hash-link" href="#v19" title="Direct link to heading">#</a></h4><ul><li>Added <code>resource.package</code> property</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="v18"></a>v1.8<a class="hash-link" href="#v18" title="Direct link to heading">#</a></h4><ul><li>Added support for <a href="#group">groups of resources</a></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="v17"></a>v1.7<a class="hash-link" href="#v17" title="Direct link to heading">#</a></h4><ul><li>Added support for <a href="https://frictionlessdata.io/specs/patterns/#compression-of-resources" target="_blank" rel="noopener noreferrer">compression of resources</a></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="v16"></a>v1.6<a class="hash-link" href="#v16" title="Direct link to heading">#</a></h4><ul><li>Added support for custom request session</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="v15"></a>v1.5<a class="hash-link" href="#v15" title="Direct link to heading">#</a></h4><p>Updated behaviour:</p><ul><li>Added support for Python 3.7</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="v14"></a>v1.4<a class="hash-link" href="#v14" title="Direct link to heading">#</a></h4><p>New API added:</p><ul><li>added <code>skip_rows</code> support to the resource descriptor</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="v13"></a>v1.3<a class="hash-link" href="#v13" title="Direct link to heading">#</a></h4><p>New API added:</p><ul><li>property <code>package.base_path</code> is now publicly available</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="v12"></a>v1.2<a class="hash-link" href="#v12" title="Direct link to heading">#</a></h4><p>Updated behaviour:</p><ul><li>CLI command <code>$ datapackage infer</code> now outputs only a JSON-formatted data package descriptor.</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="v11"></a>v1.1<a class="hash-link" href="#v11" title="Direct link to heading">#</a></h4><p>New API added:</p><ul><li>Added an integration between <code>Package/Resource</code> and the <code>tableschema.Storage</code> - <a href="https://github.com/frictionlessdata/tableschema-py#storage" target="_blank" rel="noopener noreferrer">https://github.com/frictionlessdata/tableschema-py#storage</a>. It allows to load and save data package from/to different storages like SQL/BigQuery/etc.</li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/frictionlessdata/libraries/edit/master/docs/docs/data-package/python.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2022-04-12T14:41:16.000Z" class="lastUpdatedDate_nN9m">4/12/2022</time> by <strong>roll</strong></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/data-package/javascript"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">datapackage-js Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#features" class="table-of-contents__link">Features</a></li><li><a href="#contents" class="table-of-contents__link">Contents</a></li><li><a href="#getting-started" class="table-of-contents__link">Getting Started</a><ul><li><a href="#installation" class="table-of-contents__link">Installation</a></li></ul></li><li><a href="#documentation" class="table-of-contents__link">Documentation</a><ul><li><a href="#introduction" class="table-of-contents__link">Introduction</a></li><li><a href="#working-with-package" class="table-of-contents__link">Working with Package</a></li><li><a href="#working-with-resource" class="table-of-contents__link">Working with Resource</a></li><li><a href="#working-with-group" class="table-of-contents__link">Working with Group</a></li><li><a href="#working-with-profile" class="table-of-contents__link">Working with Profile</a></li><li><a href="#working-with-foreign-keys" class="table-of-contents__link">Working with Foreign Keys</a></li><li><a href="#working-with-validateinfer" class="table-of-contents__link">Working with validate/infer</a></li><li><a href="#frequently-asked-questions" class="table-of-contents__link">Frequently Asked Questions</a></li></ul></li><li><a href="#api-reference" class="table-of-contents__link">API Reference</a><ul><li><a href="#cli" class="table-of-contents__link"><code>cli</code></a></li><li><a href="#package" class="table-of-contents__link"><code>Package</code></a></li><li><a href="#resource" class="table-of-contents__link"><code>Resource</code></a></li><li><a href="#group" class="table-of-contents__link"><code>Group</code></a></li><li><a href="#profile" class="table-of-contents__link"><code>Profile</code></a></li><li><a href="#validate" class="table-of-contents__link"><code>validate</code></a></li><li><a href="#infer" class="table-of-contents__link"><code>infer</code></a></li><li><a href="#datapackageexception" class="table-of-contents__link"><code>DataPackageException</code></a></li><li><a href="#tableschemaexception" class="table-of-contents__link"><code>TableSchemaException</code></a></li><li><a href="#loaderror" class="table-of-contents__link"><code>LoadError</code></a></li><li><a href="#casterror" class="table-of-contents__link"><code>CastError</code></a></li><li><a href="#integrityerror" class="table-of-contents__link"><code>IntegrityError</code></a></li><li><a href="#relationerror" class="table-of-contents__link"><code>RelationError</code></a></li><li><a href="#storageerror" class="table-of-contents__link"><code>StorageError</code></a></li></ul></li><li><a href="#contributing" class="table-of-contents__link">Contributing</a></li><li><a href="#changelog" class="table-of-contents__link">Changelog</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/table-schema/python">Table Schema</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/data-package/python">Data Package</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/other-libraries/frictionless-ckan-mapper">Other Libraries</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://frictionlessdata.io/blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://github.com/frictionlessdata/project/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum</a></li><li class="footer__item"><a href="https://discordapp.com/invite/Sewv6av" target="_blank" rel="noopener noreferrer" class="footer__link-item">Chat</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/frictionlessdata/frictionless-py" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://twitter.com/frictionlessd8a" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://okfn.org" target="_blank" rel="noopener noreferrer" class="footerLogoLink_SRtH"><img src="https://a.okfn.org/img/oki/landscape-white-468x122.png" alt="Open Knowledge Foundation" class="themedImage_TMUO themedImage--light_4Vu1 footer__logo"><img src="https://a.okfn.org/img/oki/landscape-white-468x122.png" alt="Open Knowledge Foundation" class="themedImage_TMUO themedImage--dark_uzRr footer__logo"></a></div><div class="footer__copyright">Copyright Â© 2022 Frictionless Data</div></div></div></footer></div>
<script src="/assets/js/styles.d473ca08.js"></script>
<script src="/assets/js/runtime~main.d0157fd3.js"></script>
<script src="/assets/js/main.3d085018.js"></script>
<script src="/assets/js/1.dfe08b25.js"></script>
<script src="/assets/js/2.da8d48d7.js"></script>
<script src="/assets/js/36.6ede58b7.js"></script>
<script src="/assets/js/935f2afb.6c2d3d17.js"></script>
<script src="/assets/js/17896441.4a7b56e4.js"></script>
<script src="/assets/js/552ba906.9c1a76a9.js"></script>
</body>
</html>