(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{109:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return j}));var r=a(0),n=a.n(r);function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){c(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},c=Object.keys(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var i=n.a.createContext({}),s=function(e){var t=n.a.useContext(i),a=t;return e&&(a="function"==typeof e?e(t):b(b({},t),e)),a},p=function(e){var t=s(e.components);return n.a.createElement(i.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.a.createElement(n.a.Fragment,{},t)}},d=n.a.forwardRef((function(e,t){var a=e.components,r=e.mdxType,c=e.originalType,l=e.parentName,i=o(e,["components","mdxType","originalType","parentName"]),p=s(a),d=r,j=p["".concat(l,".").concat(d)]||p[d]||u[d]||c;return a?n.a.createElement(j,b(b({ref:t},i),{},{components:a})):n.a.createElement(j,b({ref:t},i))}));function j(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var c=a.length,l=new Array(c);l[0]=d;var b={};for(var o in t)hasOwnProperty.call(t,o)&&(b[o]=t[o]);b.originalType=e,b.mdxType="string"==typeof e?e:r,l[1]=b;for(var i=2;i<c;i++)l[i]=a[i];return n.a.createElement.apply(null,l)}return n.a.createElement.apply(null,a)}d.displayName="MDXCreateElement"},89:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return l})),a.d(t,"metadata",(function(){return b})),a.d(t,"toc",(function(){return o})),a.d(t,"default",(function(){return s}));var r=a(3),n=a(8),c=(a(0),a(109)),l={title:"datapackage-js"},b={unversionedId:"data-package/javascript",id:"data-package/javascript",isDocsHomePage:!1,title:"datapackage-js",description:"Travis",source:"@site/docs/data-package/javascript.md",slug:"/data-package/javascript",permalink:"/docs/data-package/javascript",editUrl:"https://github.com/frictionlessdata/frictionless-py/edit/master/docs/docs/data-package/javascript.md",version:"current",lastUpdatedBy:"roll",lastUpdatedAt:1620982385,formattedLastUpdatedAt:"5/14/2021",sidebar:"data-package",previous:{title:"datapackage-py",permalink:"/docs/data-package/python"},next:{title:"datapackage-rb",permalink:"/docs/data-package/ruby"}},o=[{value:"Features",id:"features",children:[]},{value:"Contents",id:"contents",children:[]},{value:"Getting Started",id:"getting-started",children:[{value:"Installation",id:"installation",children:[]}]},{value:"Documentation",id:"documentation",children:[{value:"Introduction",id:"introduction",children:[]},{value:"Working with Package",id:"working-with-package",children:[]},{value:"Working with Resource",id:"working-with-resource",children:[]},{value:"Working with Profile",id:"working-with-profile",children:[]},{value:"Working with validate/infer",id:"working-with-validateinfer",children:[]},{value:"Working with Foreign Keys",id:"working-with-foreign-keys",children:[]}]},{value:"API Referencer",id:"api-referencer",children:[{value:"Package",id:"package",children:[]},{value:"Resource",id:"resource",children:[]},{value:"Profile",id:"profile",children:[]},{value:"validate(descriptor) \u21d2 <code>Object</code>",id:"validatedescriptor-\u21d2-object",children:[]},{value:"infer(pattern) \u21d2 <code>Object</code>",id:"inferpattern-\u21d2-object",children:[]},{value:"DataPackageError",id:"datapackageerror",children:[]},{value:"TableSchemaError",id:"tableschemaerror",children:[]}]},{value:"Contributing",id:"contributing",children:[]},{value:"Changelog",id:"changelog",children:[]}],i={toc:o};function s(e){var t=e.components,a=Object(n.a)(e,["components"]);return Object(c.b)("wrapper",Object(r.a)({},i,a,{components:t,mdxType:"MDXLayout"}),Object(c.b)("p",null,Object(c.b)("a",{parentName:"p",href:"https://travis-ci.org/frictionlessdata/datapackage-js"},Object(c.b)("img",{parentName:"a",src:"https://travis-ci.org/frictionlessdata/datapackage-js.svg?branch=master",alt:"Travis"})),"\n",Object(c.b)("a",{parentName:"p",href:"https://coveralls.io/github/frictionlessdata/datapackage-js?branch=master"},Object(c.b)("img",{parentName:"a",src:"https://coveralls.io/repos/github/frictionlessdata/datapackage-js/badge.svg?branch=master",alt:"Coveralls"})),"\n",Object(c.b)("a",{parentName:"p",href:"https://www.npmjs.com/package/datapackage"},Object(c.b)("img",{parentName:"a",src:"https://img.shields.io/npm/v/datapackage.svg",alt:"NPM"})),"\n",Object(c.b)("a",{parentName:"p",href:"https://github.com/frictionlessdata/datapackage-js"},Object(c.b)("img",{parentName:"a",src:"https://img.shields.io/badge/github-master-brightgreen",alt:"Github"})),"\n",Object(c.b)("a",{parentName:"p",href:"https://gitter.im/frictionlessdata/chat"},Object(c.b)("img",{parentName:"a",src:"https://img.shields.io/gitter/room/frictionlessdata/chat.svg",alt:"Gitter"}))),Object(c.b)("p",null,"A library for working with ",Object(c.b)("a",{parentName:"p",href:"http://specs.frictionlessdata.io/data-package/"},"Data Packages"),"."),Object(c.b)("h2",{id:"features"},"Features"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"Package")," class for working with data packages"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"Resource")," class for working with data resources"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"Profile")," class for working with profiles"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"validate")," function for validating data package descriptors"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"infer")," function for inferring data package descriptors")),Object(c.b)("h2",{id:"contents"},"Contents"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#getting-started"},"Getting Started"),Object(c.b)("ul",{parentName:"li"},Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#installation"},"Installation")))),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#documentation"},"Documentation"),Object(c.b)("ul",{parentName:"li"},Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#introduction"},"Introduction")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#working-with-package"},"Working with Package")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#working-with-resource"},"Working with Resource")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#working-with-profile"},"Working with Profile")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#working-with-validateinfer"},"Working with validate/infer")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#working-with-foreign-keys"},"Working with Foreign Keys")))),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#api-referencer"},"API Referencer"),Object(c.b)("ul",{parentName:"li"},Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#package"},"Package")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#resource"},"Resource")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#profile"},"Profile")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#validatedescriptor-%E2%87%92-codeobjectcode"},"validate(descriptor) \u21d2 ",Object(c.b)("code",null,"Object"))),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#inferpattern-%E2%87%92-codeobjectcode"},"infer(pattern) \u21d2 ",Object(c.b)("code",null,"Object"))),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#datapackageerror"},"DataPackageError")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#tableschemaerror"},"TableSchemaError")))),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#contributing"},"Contributing")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#changelog"},"Changelog"))),Object(c.b)("h2",{id:"getting-started"},"Getting Started"),Object(c.b)("h3",{id:"installation"},"Installation"),Object(c.b)("p",null,"The package use semantic versioning. It means that major versions  could include breaking changes. It's highly recommended to specify ",Object(c.b)("inlineCode",{parentName:"p"},"datapackage")," version range in your ",Object(c.b)("inlineCode",{parentName:"p"},"package.json")," file e.g. ",Object(c.b)("inlineCode",{parentName:"p"},"datapackage: ^1.0")," which  will be added by default by ",Object(c.b)("inlineCode",{parentName:"p"},"npm install --save"),"."),Object(c.b)("h4",{id:"npm"},"NPM"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-bash"},"$ npm install datapackage@latest # v1.0\n$ npm install datapackage # v0.8\n")),Object(c.b)("h4",{id:"cdn"},"CDN"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-html"},'<script src="//unpkg.com/datapackage/dist/datapackage.min.js"><\/script>\n')),Object(c.b)("h2",{id:"documentation"},"Documentation"),Object(c.b)("h3",{id:"introduction"},"Introduction"),Object(c.b)("p",null,"Let's start with a simple example for Node.js:"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-javascript"},"const {Package} = require('datapackage')\n\nconst descriptor = {\n  resources: [\n    {\n      name: 'example',\n      profile: 'tabular-data-resource',\n      data: [\n        ['height', 'age', 'name'],\n        ['180', '18', 'Tony'],\n        ['192', '32', 'Jacob'],\n      ],\n      schema:  {\n        fields: [\n          {name: 'height', type: 'integer'},\n          {name: 'age', type: 'integer'},\n          {name: 'name', type: 'string'},\n        ],\n      }\n    }\n  ]\n}\n\nconst dataPackage = await Package.load(descriptor)\nconst resource = dataPackage.getResource('example')\nawait resource.read() // [[180, 18, 'Tony'], [192, 32, 'Jacob']]\n")),Object(c.b)("p",null,"And for browser:"),Object(c.b)("blockquote",null,Object(c.b)("p",{parentName:"blockquote"},Object(c.b)("a",{parentName:"p",href:"https://jsfiddle.net/rollninja/jp60q3zd/"},"https://jsfiddle.net/rollninja/jp60q3zd/"))),Object(c.b)("p",null,"After the script registration the library will be available as a global variable ",Object(c.b)("inlineCode",{parentName:"p"},"datapackage"),":"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-html"},'<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="utf-8">\n    <title>datapackage-js</title>\n  </head>\n  <body>\n    <script src="//unpkg.com/datapackage/dist/datapackage.min.js"><\/script>\n    <script>\n      const main = async () => {\n        const resource = await datapackage.Resource.load({path: \'https://raw.githubusercontent.com/frictionlessdata/datapackage-js/master/data/data.csv\'})\n        const rows = await resource.read()\n        document.body.innerHTML += `<div>${resource.headers}</div>`\n        for (const row of rows) {\n          document.body.innerHTML += `<div>${row}</div>`\n        }\n      }\n      main()\n    <\/script>\n  </body>\n</html>\n')),Object(c.b)("h3",{id:"working-with-package"},"Working with Package"),Object(c.b)("p",null,"A class for working with data packages. It provides various capabilities like loading local or remote data package, inferring a data package descriptor, saving a data package descriptor and many more."),Object(c.b)("p",null,"Consider we have some local csv files in a ",Object(c.b)("inlineCode",{parentName:"p"},"data")," directory. Let's create a data package based on this data using a ",Object(c.b)("inlineCode",{parentName:"p"},"Package")," class:"),Object(c.b)("blockquote",null,Object(c.b)("p",{parentName:"blockquote"},"data/cities.csv")),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-csv"},'city,location\nlondon,"51.50,-0.11"\nparis,"48.85,2.30"\nrome,"41.89,12.51"\n')),Object(c.b)("blockquote",null,Object(c.b)("p",{parentName:"blockquote"},"data/population.csv")),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-csv"},"city,year,population\nlondon,2017,8780000\nparis,2017,2240000\nrome,2017,2860000\n")),Object(c.b)("p",null,"First we create a blank data package::"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-javascript"},"const dataPackage = await Package.load()\n")),Object(c.b)("p",null,"Now we're ready to infer a data package descriptor based on data files we have. Because we have two csv files we use glob pattern ",Object(c.b)("inlineCode",{parentName:"p"},"**/*.csv"),":"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-javascript"},"await dataPackage.infer('**/*.csv')\ndataPackage.descriptor\n//{ profile: 'tabular-data-package',\n//  resources:\n//   [ { path: 'data/cities.csv',\n//       profile: 'tabular-data-resource',\n//       encoding: 'utf-8',\n//       name: 'cities',\n//       format: 'csv',\n//       mediatype: 'text/csv',\n//       schema: [Object] },\n//     { path: 'data/population.csv',\n//       profile: 'tabular-data-resource',\n//       encoding: 'utf-8',\n//       name: 'population',\n//       format: 'csv',\n//       mediatype: 'text/csv',\n//       schema: [Object] } ] }\n")),Object(c.b)("p",null,"An ",Object(c.b)("inlineCode",{parentName:"p"},"infer")," method has found all our files and inspected it to extract useful metadata like profile, encoding, format, Table Schema etc. Let's tweak it a little bit:"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-javascript"},"dataPackage.descriptor.resources[1].schema.fields[1].type = 'year'\ndataPackage.commit()\ndataPackage.valid // true\n")),Object(c.b)("p",null,"Because our resources are tabular we could read it as a tabular data:"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-javascript"},"await dataPackage.getResource('population').read({keyed: true})\n\n//[ { city: 'london', year: 2017, population: 8780000 },\n//  { city: 'paris', year: 2017, population: 2240000 },\n//  { city: 'rome', year: 2017, population: 2860000 } ]\n")),Object(c.b)("p",null,"Let's save our descriptor on the disk. After it we could update our ",Object(c.b)("inlineCode",{parentName:"p"},"datapackage.json")," as we want, make some changes etc:"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-javascript"},"await dataPackage.save('datapackage.json')\n")),Object(c.b)("p",null,"To continue the work with the data package we just load it again but this time using local ",Object(c.b)("inlineCode",{parentName:"p"},"datapackage.json"),":"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-javascript"},"const dataPackage = await Package.load('datapackage.json')\n// Continue the work\n")),Object(c.b)("p",null,"It was onle basic introduction to the ",Object(c.b)("inlineCode",{parentName:"p"},"Package")," class. To learn more let's take a look on ",Object(c.b)("inlineCode",{parentName:"p"},"Package")," class API reference."),Object(c.b)("h3",{id:"working-with-resource"},"Working with Resource"),Object(c.b)("p",null,"A class for working with data resources. You can read or iterate tabular resources using the ",Object(c.b)("inlineCode",{parentName:"p"},"iter/read")," methods and all resource as bytes using ",Object(c.b)("inlineCode",{parentName:"p"},"rowIter/rowRead")," methods."),Object(c.b)("p",null,"Consider we have some local csv file. It could be inline data or remote link - all supported by ",Object(c.b)("inlineCode",{parentName:"p"},"Resource")," class (except local files for in-brower usage of course). But say it's ",Object(c.b)("inlineCode",{parentName:"p"},"data.csv")," for now:"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-csv"},'city,location\nlondon,"51.50,-0.11"\nparis,"48.85,2.30"\nrome,N/A\n')),Object(c.b)("p",null,"Let's create and read a resource. We use static ",Object(c.b)("inlineCode",{parentName:"p"},"Resource.load")," method instantiate a resource. Because resource is tabular we could use ",Object(c.b)("inlineCode",{parentName:"p"},"resource.read")," method with a ",Object(c.b)("inlineCode",{parentName:"p"},"keyed")," option to get an array of keyed rows:"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-javascript"},"const resource = await Resource.load({path: 'data.csv'})\nresource.tabular // true\nresource.headers // ['city', 'location']\nawait resource.read({keyed: true})\n// [\n//   {city: 'london', location: '51.50,-0.11'},\n//   {city: 'paris', location: '48.85,2.30'},\n//   {city: 'rome', location: 'N/A'},\n// ]\n")),Object(c.b)("p",null,"As we could see our locations are just a strings. But it should be geopoints. Also Rome's location is not available but it's also just a ",Object(c.b)("inlineCode",{parentName:"p"},"N/A")," string instead of JavaScript ",Object(c.b)("inlineCode",{parentName:"p"},"null"),". First we have to infer resource metadata:"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-javascript"},"await resource.infer()\nresource.descriptor\n//{ path: 'data.csv',\n//  profile: 'tabular-data-resource',\n//  encoding: 'utf-8',\n//  name: 'data',\n//  format: 'csv',\n//  mediatype: 'text/csv',\n// schema: { fields: [ [Object], [Object] ], missingValues: [ '' ] } }\nawait resource.read({keyed: true})\n// Fails with a data validation error\n")),Object(c.b)("p",null,"Let's fix not available location. There is a ",Object(c.b)("inlineCode",{parentName:"p"},"missingValues")," property in Table Schema specification. As a first try we set ",Object(c.b)("inlineCode",{parentName:"p"},"missingValues")," to ",Object(c.b)("inlineCode",{parentName:"p"},"N/A")," in ",Object(c.b)("inlineCode",{parentName:"p"},"resource.descriptor.schema"),". Resource descriptor could be changed in-place but all changes should be commited by ",Object(c.b)("inlineCode",{parentName:"p"},"resource.commit()"),":"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-javascript"},'resource.descriptor.schema.missingValues = \'N/A\'\nresource.commit()\nresource.valid // false\nresource.errors\n// Error: Descriptor validation error:\n//   Invalid type: string (expected array)\n//    at "/missingValues" in descriptor and\n//    at "/properties/missingValues/type" in profile\n')),Object(c.b)("p",null,"As a good citiziens we've decided to check out recource descriptor validity. And it's not valid! We should use an array for ",Object(c.b)("inlineCode",{parentName:"p"},"missingValues")," property. Also don't forget to have an empty string as a missing value:"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-javascript"},"resource.descriptor.schema['missingValues'] = ['', 'N/A']\nresource.commit()\nresource.valid // true\n")),Object(c.b)("p",null,"All good. It looks like we're ready to read our data again:"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-javascript"},"await resource.read({keyed: true})\n// [\n//   {city: 'london', location: [51.50,-0.11]},\n//   {city: 'paris', location: [48.85,2.30]},\n//   {city: 'rome', location: null},\n// ]\n")),Object(c.b)("p",null,"Now we see that:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"locations are arrays with numeric lattide and longitude"),Object(c.b)("li",{parentName:"ul"},"Rome's location is a native JavaScript ",Object(c.b)("inlineCode",{parentName:"li"},"null"))),Object(c.b)("p",null,"And because there are no errors on data reading we could be sure that our data is valid againt our schema. Let's save our resource descriptor:"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-javascript"},"await resource.save('dataresource.json')\n")),Object(c.b)("p",null,"Let's check newly-crated ",Object(c.b)("inlineCode",{parentName:"p"},"dataresource.json"),". It contains path to our data file, inferred metadata and our ",Object(c.b)("inlineCode",{parentName:"p"},"missingValues")," tweak:"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-json"},'{\n    "path": "data.csv",\n    "profile": "tabular-data-resource",\n    "encoding": "utf-8",\n    "name": "data",\n    "format": "csv",\n    "mediatype": "text/csv",\n    "schema": {\n        "fields": [\n            {\n                "name": "city",\n                "type": "string",\n                "format": "default"\n            },\n            {\n                "name": "location",\n                "type": "geopoint",\n                "format": "default"\n            }\n        ],\n        "missingValues": [\n            "",\n            "N/A"\n        ]\n    }\n}\n')),Object(c.b)("p",null,"If we decide to improve it even more we could update the ",Object(c.b)("inlineCode",{parentName:"p"},"dataresource.json")," file and then open it again. But this time let's read our resoure as a byte stream:"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-javascript"},"const resource = await Resource.load('dataresource.json')\nconst stream = await resource.rawIter({stream: true})\nstream.on('data', (data) => {\n  // handle data chunk as a Buffer\n})\n")),Object(c.b)("p",null,"It was onle basic introduction to the ",Object(c.b)("inlineCode",{parentName:"p"},"Resource")," class. To learn more let's take a look on ",Object(c.b)("inlineCode",{parentName:"p"},"Resource")," class API reference."),Object(c.b)("h3",{id:"working-with-profile"},"Working with Profile"),Object(c.b)("p",null,"A component to represent JSON Schema profile from ",Object(c.b)("a",{parentName:"p",href:"https://specs.frictionlessdata.io/schemas/registry.json"},"Profiles Registry"),":"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-javascript"},"await profile = Profile.load('data-package')\n\nprofile.name // data-package\nprofile.jsonschema // JSON Schema contents\n\nconst {valid, errors} = profile.validate(descriptor)\nfor (const error of errors) {\n  // inspect Error objects\n}\n")),Object(c.b)("h3",{id:"working-with-validateinfer"},"Working with validate/infer"),Object(c.b)("p",null,"A standalone function to validate a data package descriptor:"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-javascript"},"const {valid, errors} = await validate({name: 'Invalid Datapackage'})\nfor (const error of errors) {\n  // inspect Error objects\n}\n")),Object(c.b)("h3",{id:"working-with-foreign-keys"},"Working with Foreign Keys"),Object(c.b)("p",null,"The library supports foreign keys described in the ",Object(c.b)("a",{parentName:"p",href:"http://specs.frictionlessdata.io/table-schema/#foreign-keys"},"Table Schema")," specification. It means if your data package descriptor use ",Object(c.b)("inlineCode",{parentName:"p"},"resources[].schema.foreignKeys")," property for some resources a data integrity will be checked on reading operations."),Object(c.b)("p",null,"Consider we have a data package:"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-javascript"},"const DESCRIPTOR = {\n  'resources': [\n    {\n      'name': 'teams',\n      'data': [\n        ['id', 'name', 'city'],\n        ['1', 'Arsenal', 'London'],\n        ['2', 'Real', 'Madrid'],\n        ['3', 'Bayern', 'Munich'],\n      ],\n      'schema': {\n        'fields': [\n          {'name': 'id', 'type': 'integer'},\n          {'name': 'name', 'type': 'string'},\n          {'name': 'city', 'type': 'string'},\n        ],\n        'foreignKeys': [\n          {\n            'fields': 'city',\n            'reference': {'resource': 'cities', 'fields': 'name'},\n          },\n        ],\n      },\n    }, {\n      'name': 'cities',\n      'data': [\n        ['name', 'country'],\n        ['London', 'England'],\n        ['Madrid', 'Spain'],\n      ],\n    },\n  ],\n}\n")),Object(c.b)("p",null,"Let's check relations for a ",Object(c.b)("inlineCode",{parentName:"p"},"teams")," resource:"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-javascript"},"const {Package} = require('datapackage')\n\nconst package = await Package.load(DESCRIPTOR)\nteams = package.getResource('teams')\nawait teams.checkRelations()\n// tableschema.exceptions.RelationError: Foreign key \"['city']\" violation in row \"4\"\n")),Object(c.b)("p",null,"As we could see there is a foreign key violation. That's because our lookup table ",Object(c.b)("inlineCode",{parentName:"p"},"cities")," doesn't have a city of ",Object(c.b)("inlineCode",{parentName:"p"},"Munich")," but we have a team from there. We need to fix it in ",Object(c.b)("inlineCode",{parentName:"p"},"cities")," resource:"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-javascript"},"package.descriptor['resources'][1]['data'].push(['Munich', 'Germany'])\npackage.commit()\nteams = package.getResource('teams')\nawait teams.checkRelations()\n// True\n")),Object(c.b)("p",null,"Fixed! But not only a check operation is available. We could use ",Object(c.b)("inlineCode",{parentName:"p"},"relations")," argument for ",Object(c.b)("inlineCode",{parentName:"p"},"resource.iter/read")," methods to dereference a resource relations:"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-javascript"},"await teams.read({keyed: true, relations: true})\n//[{'id': 1, 'name': 'Arsenal', 'city': {'name': 'London', 'country': 'England}},\n// {'id': 2, 'name': 'Real', 'city': {'name': 'Madrid', 'country': 'Spain}},\n// {'id': 3, 'name': 'Bayern', 'city': {'name': 'Munich', 'country': 'Germany}}]\n")),Object(c.b)("p",null,"Instead of plain city name we've got a dictionary containing a city data. These ",Object(c.b)("inlineCode",{parentName:"p"},"resource.iter/read")," methods will fail with the same as ",Object(c.b)("inlineCode",{parentName:"p"},"resource.check_relations")," error if there is an integrity issue. But only if ",Object(c.b)("inlineCode",{parentName:"p"},"relations: true")," flag is passed.\nA standalone function to infer a data package descriptor."),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-javascript"},"const descriptor = await infer('**/*.csv')\n//{ profile: 'tabular-data-resource',\n//  resources:\n//   [ { path: 'data/cities.csv',\n//       profile: 'tabular-data-resource',\n//       encoding: 'utf-8',\n//       name: 'cities',\n//       format: 'csv',\n//       mediatype: 'text/csv',\n//       schema: [Object] },\n//     { path: 'data/population.csv',\n//       profile: 'tabular-data-resource',\n//       encoding: 'utf-8',\n//       name: 'population',\n//       format: 'csv',\n//       mediatype: 'text/csv',\n//       schema: [Object] } ] }\n")),Object(c.b)("h2",{id:"api-referencer"},"API Referencer"),Object(c.b)("h3",{id:"package"},"Package"),Object(c.b)("p",null,"Package representation"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#Package"},"Package"),Object(c.b)("ul",{parentName:"li"},Object(c.b)("li",{parentName:"ul"},Object(c.b)("em",{parentName:"li"},"instance"),Object(c.b)("ul",{parentName:"li"},Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#Package+valid"},".valid")," \u21d2 ",Object(c.b)("code",null,"Boolean")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#Package+errors"},".errors")," \u21d2 ",Object(c.b)("code",null,"Array.","<","Error",">")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#Package+profile"},".profile")," \u21d2 ",Object(c.b)("code",null,"Profile")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#Package+descriptor"},".descriptor")," \u21d2 ",Object(c.b)("code",null,"Object")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#Package+resources"},".resources")," \u21d2 ",Object(c.b)("code",null,"Array.","<","Resoruce",">")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#Package+resourceNames"},".resourceNames")," \u21d2 ",Object(c.b)("code",null,"Array.","<","string",">")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#Package+getResource"},".getResource(name)")," \u21d2 ",Object(c.b)("code",null,"Resource")," ","|"," ",Object(c.b)("code",null,"null")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#Package+addResource"},".addResource(descriptor)")," \u21d2 ",Object(c.b)("code",null,"Resource")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#Package+removeResource"},".removeResource(name)")," \u21d2 ",Object(c.b)("code",null,"Resource")," ","|"," ",Object(c.b)("code",null,"null")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#Package+infer"},".infer(pattern)")," \u21d2 ",Object(c.b)("code",null,"Object")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#Package+commit"},".commit(strict)")," \u21d2 ",Object(c.b)("code",null,"Boolean")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#Package+save"},".save(target, raises, returns)")))),Object(c.b)("li",{parentName:"ul"},Object(c.b)("em",{parentName:"li"},"static"),Object(c.b)("ul",{parentName:"li"},Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#Package.load"},".load(descriptor, basePath, strict)")," \u21d2 ",Object(c.b)("a",{parentName:"li",href:"#Package"},Object(c.b)("code",null,"Package")))))))),Object(c.b)("h4",{id:"packagevalid-\u21d2-boolean"},"package.valid \u21d2 ",Object(c.b)("code",null,"Boolean")),Object(c.b)("p",null,"Validation status"),Object(c.b)("p",null,"It always ",Object(c.b)("inlineCode",{parentName:"p"},"true")," in strict mode."),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Returns"),": ",Object(c.b)("code",null,"Boolean")," - returns validation status"),Object(c.b)("h4",{id:"packageerrors-\u21d2-arrayerror"},"package.errors \u21d2 ",Object(c.b)("code",null,"Array.","<","Error",">")),Object(c.b)("p",null,"Validation errors"),Object(c.b)("p",null,"It always empty in strict mode."),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Returns"),": ",Object(c.b)("code",null,"Array.","<","Error",">")," - returns validation errors"),Object(c.b)("h4",{id:"packageprofile-\u21d2-profile"},"package.profile \u21d2 ",Object(c.b)("code",null,"Profile")),Object(c.b)("p",null,"Profile"),Object(c.b)("h4",{id:"packagedescriptor-\u21d2-object"},"package.descriptor \u21d2 ",Object(c.b)("code",null,"Object")),Object(c.b)("p",null,"Descriptor"),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Returns"),": ",Object(c.b)("code",null,"Object")," - schema descriptor"),Object(c.b)("h4",{id:"packageresources-\u21d2-arrayresoruce"},"package.resources \u21d2 ",Object(c.b)("code",null,"Array.","<","Resoruce",">")),Object(c.b)("p",null,"Resources"),Object(c.b)("h4",{id:"packageresourcenames-\u21d2-arraystring"},"package.resourceNames \u21d2 ",Object(c.b)("code",null,"Array.","<","string",">")),Object(c.b)("p",null,"Resource names"),Object(c.b)("h4",{id:"packagegetresourcename-\u21d2-resource--null"},"package.getResource(name) \u21d2 ",Object(c.b)("code",null,"Resource")," ","|"," ",Object(c.b)("code",null,"null")),Object(c.b)("p",null,"Return a resource"),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Returns"),": ",Object(c.b)("code",null,"Resource")," ","|"," ",Object(c.b)("code",null,"null")," - resource instance if exists"),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",{parentName:"tr",align:null},"Param"),Object(c.b)("th",{parentName:"tr",align:null},"Type"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",{parentName:"tr",align:null},"name"),Object(c.b)("td",{parentName:"tr",align:null},Object(c.b)("code",null,"string"))))),Object(c.b)("h4",{id:"packageaddresourcedescriptor-\u21d2-resource"},"package.addResource(descriptor) \u21d2 ",Object(c.b)("code",null,"Resource")),Object(c.b)("p",null,"Add a resource"),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Returns"),": ",Object(c.b)("code",null,"Resource")," - added resource instance"),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",{parentName:"tr",align:null},"Param"),Object(c.b)("th",{parentName:"tr",align:null},"Type"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",{parentName:"tr",align:null},"descriptor"),Object(c.b)("td",{parentName:"tr",align:null},Object(c.b)("code",null,"Object"))))),Object(c.b)("h4",{id:"packageremoveresourcename-\u21d2-resource--null"},"package.removeResource(name) \u21d2 ",Object(c.b)("code",null,"Resource")," ","|"," ",Object(c.b)("code",null,"null")),Object(c.b)("p",null,"Remove a resource"),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Returns"),": ",Object(c.b)("code",null,"Resource")," ","|"," ",Object(c.b)("code",null,"null")," - removed resource instance if exists"),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",{parentName:"tr",align:null},"Param"),Object(c.b)("th",{parentName:"tr",align:null},"Type"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",{parentName:"tr",align:null},"name"),Object(c.b)("td",{parentName:"tr",align:null},Object(c.b)("code",null,"string"))))),Object(c.b)("h4",{id:"packageinferpattern-\u21d2-object"},"package.infer(pattern) \u21d2 ",Object(c.b)("code",null,"Object")),Object(c.b)("p",null,"Infer metadata"),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",{parentName:"tr",align:null},"Param"),Object(c.b)("th",{parentName:"tr",align:null},"Type"),Object(c.b)("th",{parentName:"tr",align:null},"Default"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",{parentName:"tr",align:null},"pattern"),Object(c.b)("td",{parentName:"tr",align:null},Object(c.b)("code",null,"string")),Object(c.b)("td",{parentName:"tr",align:null},Object(c.b)("code",null,"false"))))),Object(c.b)("h4",{id:"packagecommitstrict-\u21d2-boolean"},"package.commit(strict) \u21d2 ",Object(c.b)("code",null,"Boolean")),Object(c.b)("p",null,"Update package instance if there are in-place changes in the descriptor."),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Returns"),": ",Object(c.b)("code",null,"Boolean")," - returns true on success and false if not modified\n",Object(c.b)("strong",{parentName:"p"},"Throws"),":"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("code",null,"DataPackageError")," raises any error occurred in the process")),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",{parentName:"tr",align:null},"Param"),Object(c.b)("th",{parentName:"tr",align:null},"Type"),Object(c.b)("th",{parentName:"tr",align:null},"Description"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",{parentName:"tr",align:null},"strict"),Object(c.b)("td",{parentName:"tr",align:null},Object(c.b)("code",null,"boolean")),Object(c.b)("td",{parentName:"tr",align:null},"alter ",Object(c.b)("inlineCode",{parentName:"td"},"strict")," mode for further work")))),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Example")),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-javascript"},"const dataPackage = await Package.load({\n    name: 'package',\n    resources: [{name: 'resource', data: ['data']}]\n})\n\ndataPackage.name // package\ndataPackage.descriptor.name = 'renamed-package'\ndataPackage.name // package\ndataPackage.commit()\ndataPackage.name // renamed-package\n")),Object(c.b)("h4",{id:"packagesavetarget-raises-returns"},"package.save(target, raises, returns)"),Object(c.b)("p",null,"Save data package to target destination."),Object(c.b)("p",null,"If target path has a  zip file extension the package will be zipped and\nsaved entirely. If it has a json file extension only the descriptor will be saved."),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",{parentName:"tr",align:null},"Param"),Object(c.b)("th",{parentName:"tr",align:null},"Type"),Object(c.b)("th",{parentName:"tr",align:null},"Description"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",{parentName:"tr",align:null},"target"),Object(c.b)("td",{parentName:"tr",align:null},Object(c.b)("code",null,"string")),Object(c.b)("td",{parentName:"tr",align:null},"path where to save a data package")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",{parentName:"tr",align:null},"raises"),Object(c.b)("td",{parentName:"tr",align:null},Object(c.b)("code",null,"DataPackageError")),Object(c.b)("td",{parentName:"tr",align:null},"error if something goes wrong")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",{parentName:"tr",align:null},"returns"),Object(c.b)("td",{parentName:"tr",align:null},Object(c.b)("code",null,"boolean")),Object(c.b)("td",{parentName:"tr",align:null},"true on success")))),Object(c.b)("h4",{id:"packageloaddescriptor-basepath-strict-\u21d2-codepackagecode"},"Package.load(descriptor, basePath, strict) \u21d2 ",Object(c.b)("a",{parentName:"h4",href:"#Package"},Object(c.b)("code",null,"Package"))),Object(c.b)("p",null,"Factory method to instantiate ",Object(c.b)("inlineCode",{parentName:"p"},"Package")," class."),Object(c.b)("p",null,"This method is async and it should be used with await keyword or as a ",Object(c.b)("inlineCode",{parentName:"p"},"Promise"),"."),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Returns"),": ",Object(c.b)("a",{parentName:"p",href:"#Package"},Object(c.b)("code",null,"Package"))," - returns data package class instance\n",Object(c.b)("strong",{parentName:"p"},"Throws"),":"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("code",null,"DataPackageError")," raises error if something goes wrong")),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",{parentName:"tr",align:null},"Param"),Object(c.b)("th",{parentName:"tr",align:null},"Type"),Object(c.b)("th",{parentName:"tr",align:null},"Description"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",{parentName:"tr",align:null},"descriptor"),Object(c.b)("td",{parentName:"tr",align:null},Object(c.b)("code",null,"string")," ","|"," ",Object(c.b)("code",null,"Object")),Object(c.b)("td",{parentName:"tr",align:null},"package descriptor as local path, url or object.   If ththe path has a ",Object(c.b)("inlineCode",{parentName:"td"},"zip")," file extension it will be unzipped   to the temp directory first.")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",{parentName:"tr",align:null},"basePath"),Object(c.b)("td",{parentName:"tr",align:null},Object(c.b)("code",null,"string")),Object(c.b)("td",{parentName:"tr",align:null},"base path for all relative paths")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",{parentName:"tr",align:null},"strict"),Object(c.b)("td",{parentName:"tr",align:null},Object(c.b)("code",null,"boolean")),Object(c.b)("td",{parentName:"tr",align:null},"strict flag to alter validation behavior.   Setting it to ",Object(c.b)("inlineCode",{parentName:"td"},"true")," leads to throwing errors on any operation   with invalid descriptor")))),Object(c.b)("h3",{id:"resource"},"Resource"),Object(c.b)("p",null,"Resource representation"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#Resource"},"Resource"),Object(c.b)("ul",{parentName:"li"},Object(c.b)("li",{parentName:"ul"},Object(c.b)("em",{parentName:"li"},"instance"),Object(c.b)("ul",{parentName:"li"},Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#Resource+valid"},".valid")," \u21d2 ",Object(c.b)("code",null,"Boolean")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#Resource+errors"},".errors")," \u21d2 ",Object(c.b)("code",null,"Array.","<","Error",">")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#Resource+profile"},".profile")," \u21d2 ",Object(c.b)("code",null,"Profile")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#Resource+descriptor"},".descriptor")," \u21d2 ",Object(c.b)("code",null,"Object")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#Resource+name"},".name")," \u21d2 ",Object(c.b)("code",null,"string")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#Resource+inline"},".inline")," \u21d2 ",Object(c.b)("code",null,"boolean")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#Resource+local"},".local")," \u21d2 ",Object(c.b)("code",null,"boolean")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#Resource+remote"},".remote")," \u21d2 ",Object(c.b)("code",null,"boolean")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#Resource+multipart"},".multipart")," \u21d2 ",Object(c.b)("code",null,"boolean")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#Resource+tabular"},".tabular")," \u21d2 ",Object(c.b)("code",null,"boolean")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#Resource+source"},".source")," \u21d2 ",Object(c.b)("code",null,"Array")," ","|"," ",Object(c.b)("code",null,"string")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#Resource+headers"},".headers")," \u21d2 ",Object(c.b)("code",null,"Array.","<","string",">")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#Resource+schema"},".schema")," \u21d2 ",Object(c.b)("code",null,"tableschema.Schema")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#Resource+iter"},".iter(keyed, extended, cast, forceCast, relations, stream)")," \u21d2 ",Object(c.b)("code",null,"AsyncIterator")," ","|"," ",Object(c.b)("code",null,"Stream")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#Resource+read"},".read(limit)")," \u21d2 ",Object(c.b)("code",null,"Array.","<","Array",">")," ","|"," ",Object(c.b)("code",null,"Array.","<","Object",">")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#Resource+checkRelations"},".checkRelations()")," \u21d2 ",Object(c.b)("code",null,"boolean")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#Resource+rawIter"},".rawIter(stream)")," \u21d2 ",Object(c.b)("code",null,"Iterator")," ","|"," ",Object(c.b)("code",null,"Stream")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#Resource+rawRead"},".rawRead()")," \u21d2 ",Object(c.b)("code",null,"Buffer")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#Resource+infer"},".infer()")," \u21d2 ",Object(c.b)("code",null,"Object")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#Resource+commit"},".commit(strict)")," \u21d2 ",Object(c.b)("code",null,"boolean")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#Resource+save"},".save(target)")," \u21d2 ",Object(c.b)("code",null,"boolean")))),Object(c.b)("li",{parentName:"ul"},Object(c.b)("em",{parentName:"li"},"static"),Object(c.b)("ul",{parentName:"li"},Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#Resource.load"},".load(descriptor, basePath, strict)")," \u21d2 ",Object(c.b)("a",{parentName:"li",href:"#Resource"},Object(c.b)("code",null,"Resource")))))))),Object(c.b)("h4",{id:"resourcevalid-\u21d2-boolean"},"resource.valid \u21d2 ",Object(c.b)("code",null,"Boolean")),Object(c.b)("p",null,"Validation status"),Object(c.b)("p",null,"It always ",Object(c.b)("inlineCode",{parentName:"p"},"true")," in strict mode."),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Returns"),": ",Object(c.b)("code",null,"Boolean")," - returns validation status"),Object(c.b)("h4",{id:"resourceerrors-\u21d2-arrayerror"},"resource.errors \u21d2 ",Object(c.b)("code",null,"Array.","<","Error",">")),Object(c.b)("p",null,"Validation errors"),Object(c.b)("p",null,"It always empty in strict mode."),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Returns"),": ",Object(c.b)("code",null,"Array.","<","Error",">")," - returns validation errors"),Object(c.b)("h4",{id:"resourceprofile-\u21d2-profile"},"resource.profile \u21d2 ",Object(c.b)("code",null,"Profile")),Object(c.b)("p",null,"Profile"),Object(c.b)("h4",{id:"resourcedescriptor-\u21d2-object"},"resource.descriptor \u21d2 ",Object(c.b)("code",null,"Object")),Object(c.b)("p",null,"Descriptor"),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Returns"),": ",Object(c.b)("code",null,"Object")," - schema descriptor"),Object(c.b)("h4",{id:"resourcename-\u21d2-string"},"resource.name \u21d2 ",Object(c.b)("code",null,"string")),Object(c.b)("p",null,"Name"),Object(c.b)("h4",{id:"resourceinline-\u21d2-boolean"},"resource.inline \u21d2 ",Object(c.b)("code",null,"boolean")),Object(c.b)("p",null,"Whether resource is inline"),Object(c.b)("h4",{id:"resourcelocal-\u21d2-boolean"},"resource.local \u21d2 ",Object(c.b)("code",null,"boolean")),Object(c.b)("p",null,"Whether resource is local"),Object(c.b)("h4",{id:"resourceremote-\u21d2-boolean"},"resource.remote \u21d2 ",Object(c.b)("code",null,"boolean")),Object(c.b)("p",null,"Whether resource is remote"),Object(c.b)("h4",{id:"resourcemultipart-\u21d2-boolean"},"resource.multipart \u21d2 ",Object(c.b)("code",null,"boolean")),Object(c.b)("p",null,"Whether resource is multipart"),Object(c.b)("h4",{id:"resourcetabular-\u21d2-boolean"},"resource.tabular \u21d2 ",Object(c.b)("code",null,"boolean")),Object(c.b)("p",null,"Whether resource is tabular"),Object(c.b)("h4",{id:"resourcesource-\u21d2-array--string"},"resource.source \u21d2 ",Object(c.b)("code",null,"Array")," ","|"," ",Object(c.b)("code",null,"string")),Object(c.b)("p",null,"Source"),Object(c.b)("p",null,"Combination of ",Object(c.b)("inlineCode",{parentName:"p"},"resource.source")," and ",Object(c.b)("inlineCode",{parentName:"p"},"resource.inline/local/remote/multipart"),"\nprovides predictable interface to work with resource data."),Object(c.b)("h4",{id:"resourceheaders-\u21d2-arraystring"},"resource.headers \u21d2 ",Object(c.b)("code",null,"Array.","<","string",">")),Object(c.b)("p",null,"Headers"),Object(c.b)("blockquote",null,Object(c.b)("p",{parentName:"blockquote"},"Only for tabular resources")),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Returns"),": ",Object(c.b)("code",null,"Array.","<","string",">")," - data source headers"),Object(c.b)("h4",{id:"resourceschema-\u21d2-tableschemaschema"},"resource.schema \u21d2 ",Object(c.b)("code",null,"tableschema.Schema")),Object(c.b)("p",null,"Schema"),Object(c.b)("blockquote",null,Object(c.b)("p",{parentName:"blockquote"},"Only for tabular resources")),Object(c.b)("h4",{id:"resourceiterkeyed-extended-cast-forcecast-relations-stream-\u21d2-asynciterator--stream"},"resource.iter(keyed, extended, cast, forceCast, relations, stream) \u21d2 ",Object(c.b)("code",null,"AsyncIterator")," ","|"," ",Object(c.b)("code",null,"Stream")),Object(c.b)("p",null,"Iterate through the table data"),Object(c.b)("blockquote",null,Object(c.b)("p",{parentName:"blockquote"},"Only for tabular resources")),Object(c.b)("p",null,"And emits rows cast based on table schema (async for loop).\nWith a ",Object(c.b)("inlineCode",{parentName:"p"},"stream")," flag instead of async iterator a Node stream will be returned.\nData casting can be disabled."),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Returns"),": ",Object(c.b)("code",null,"AsyncIterator")," ","|"," ",Object(c.b)("code",null,"Stream")," - async iterator/stream of rows:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},Object(c.b)("inlineCode",{parentName:"p"},"[value1, value2]")," - base")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},Object(c.b)("inlineCode",{parentName:"p"},"{header1: value1, header2: value2}")," - keyed")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},Object(c.b)("inlineCode",{parentName:"p"},"[rowNumber, [header1, header2], [value1, value2]]")," - extended\n",Object(c.b)("strong",{parentName:"p"},"Throws"),":")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("code",null,"TableSchemaError")," raises any error occurred in this process")),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",{parentName:"tr",align:null},"Param"),Object(c.b)("th",{parentName:"tr",align:null},"Type"),Object(c.b)("th",{parentName:"tr",align:null},"Description"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",{parentName:"tr",align:null},"keyed"),Object(c.b)("td",{parentName:"tr",align:null},Object(c.b)("code",null,"boolean")),Object(c.b)("td",{parentName:"tr",align:null},"iter keyed rows")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",{parentName:"tr",align:null},"extended"),Object(c.b)("td",{parentName:"tr",align:null},Object(c.b)("code",null,"boolean")),Object(c.b)("td",{parentName:"tr",align:null},"iter extended rows")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",{parentName:"tr",align:null},"cast"),Object(c.b)("td",{parentName:"tr",align:null},Object(c.b)("code",null,"boolean")),Object(c.b)("td",{parentName:"tr",align:null},"disable data casting if false")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",{parentName:"tr",align:null},"forceCast"),Object(c.b)("td",{parentName:"tr",align:null},Object(c.b)("code",null,"boolean")),Object(c.b)("td",{parentName:"tr",align:null},"instead of raising on the first row with cast error   return an error object to replace failed row. It will allow   to iterate over the whole data file even if it's not compliant to the schema.   Example of output stream:     ",Object(c.b)("inlineCode",{parentName:"td"},"[['val1', 'val2'], TableSchemaError, ['val3', 'val4'], ...]"))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",{parentName:"tr",align:null},"relations"),Object(c.b)("td",{parentName:"tr",align:null},Object(c.b)("code",null,"boolean")),Object(c.b)("td",{parentName:"tr",align:null},"if true foreign key fields will be   checked and resolved to its references")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",{parentName:"tr",align:null},"stream"),Object(c.b)("td",{parentName:"tr",align:null},Object(c.b)("code",null,"boolean")),Object(c.b)("td",{parentName:"tr",align:null},"return Node Readable Stream of table rows")))),Object(c.b)("h4",{id:"resourcereadlimit-\u21d2-arrayarray--arrayobject"},"resource.read(limit) \u21d2 ",Object(c.b)("code",null,"Array.","<","Array",">")," ","|"," ",Object(c.b)("code",null,"Array.","<","Object",">")),Object(c.b)("p",null,"Read the table data into memory"),Object(c.b)("blockquote",null,Object(c.b)("p",{parentName:"blockquote"},"Only for tabular resources; the API is the same as ",Object(c.b)("inlineCode",{parentName:"p"},"resource.iter")," has except for:")),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Returns"),": ",Object(c.b)("code",null,"Array.","<","Array",">")," ","|"," ",Object(c.b)("code",null,"Array.","<","Object",">")," - list of rows:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"[value1, value2]")," - base"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"{header1: value1, header2: value2}")," - keyed"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"[rowNumber, [header1, header2], [value1, value2]]")," - extended")),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",{parentName:"tr",align:null},"Param"),Object(c.b)("th",{parentName:"tr",align:null},"Type"),Object(c.b)("th",{parentName:"tr",align:null},"Description"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",{parentName:"tr",align:null},"limit"),Object(c.b)("td",{parentName:"tr",align:null},Object(c.b)("code",null,"integer")),Object(c.b)("td",{parentName:"tr",align:null},"limit of rows to read")))),Object(c.b)("h4",{id:"resourcecheckrelations-\u21d2-boolean"},"resource.checkRelations() \u21d2 ",Object(c.b)("code",null,"boolean")),Object(c.b)("p",null,"It checks foreign keys and raises an exception if there are integrity issues."),Object(c.b)("blockquote",null,Object(c.b)("p",{parentName:"blockquote"},"Only for tabular resources")),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Returns"),": ",Object(c.b)("code",null,"boolean")," - returns True if no issues\n",Object(c.b)("strong",{parentName:"p"},"Throws"),":"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("code",null,"DataPackageError")," raises if there are integrity issues")),Object(c.b)("h4",{id:"resourcerawiterstream-\u21d2-iterator--stream"},"resource.rawIter(stream) \u21d2 ",Object(c.b)("code",null,"Iterator")," ","|"," ",Object(c.b)("code",null,"Stream")),Object(c.b)("p",null,"Iterate over data chunks as bytes. If ",Object(c.b)("inlineCode",{parentName:"p"},"stream")," is true Node Stream will be returned."),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Returns"),": ",Object(c.b)("code",null,"Iterator")," ","|"," ",Object(c.b)("code",null,"Stream")," - returns Iterator/Stream"),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",{parentName:"tr",align:null},"Param"),Object(c.b)("th",{parentName:"tr",align:null},"Type"),Object(c.b)("th",{parentName:"tr",align:null},"Description"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",{parentName:"tr",align:null},"stream"),Object(c.b)("td",{parentName:"tr",align:null},Object(c.b)("code",null,"boolean")),Object(c.b)("td",{parentName:"tr",align:null},"Node Stream will be returned")))),Object(c.b)("h4",{id:"resourcerawread-\u21d2-buffer"},"resource.rawRead() \u21d2 ",Object(c.b)("code",null,"Buffer")),Object(c.b)("p",null,"Returns resource data as bytes."),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Returns"),": ",Object(c.b)("code",null,"Buffer")," - returns Buffer with resource data"),Object(c.b)("h4",{id:"resourceinfer-\u21d2-object"},"resource.infer() \u21d2 ",Object(c.b)("code",null,"Object")),Object(c.b)("p",null,"Infer resource metadata like name, format, mediatype, encoding, schema and profile."),Object(c.b)("p",null,"It commits this changes into resource instance."),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Returns"),": ",Object(c.b)("code",null,"Object")," - returns resource descriptor"),Object(c.b)("h4",{id:"resourcecommitstrict-\u21d2-boolean"},"resource.commit(strict) \u21d2 ",Object(c.b)("code",null,"boolean")),Object(c.b)("p",null,"Update resource instance if there are in-place changes in the descriptor."),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Returns"),": ",Object(c.b)("code",null,"boolean")," - returns true on success and false if not modified\n",Object(c.b)("strong",{parentName:"p"},"Throws"),":"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"DataPackageError raises error if something goes wrong")),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",{parentName:"tr",align:null},"Param"),Object(c.b)("th",{parentName:"tr",align:null},"Type"),Object(c.b)("th",{parentName:"tr",align:null},"Description"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",{parentName:"tr",align:null},"strict"),Object(c.b)("td",{parentName:"tr",align:null},Object(c.b)("code",null,"boolean")),Object(c.b)("td",{parentName:"tr",align:null},"alter ",Object(c.b)("inlineCode",{parentName:"td"},"strict")," mode for further work")))),Object(c.b)("h4",{id:"resourcesavetarget-\u21d2-boolean"},"resource.save(target) \u21d2 ",Object(c.b)("code",null,"boolean")),Object(c.b)("p",null,"Save resource to target destination."),Object(c.b)("blockquote",null,Object(c.b)("p",{parentName:"blockquote"},"For now only descriptor will be saved.")),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Returns"),": ",Object(c.b)("code",null,"boolean")," - returns true on success\n",Object(c.b)("strong",{parentName:"p"},"Throws"),":"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("code",null,"DataPackageError")," raises error if something goes wrong")),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",{parentName:"tr",align:null},"Param"),Object(c.b)("th",{parentName:"tr",align:null},"Type"),Object(c.b)("th",{parentName:"tr",align:null},"Description"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",{parentName:"tr",align:null},"target"),Object(c.b)("td",{parentName:"tr",align:null},Object(c.b)("code",null,"string")),Object(c.b)("td",{parentName:"tr",align:null},"path where to save a resource")))),Object(c.b)("h4",{id:"resourceloaddescriptor-basepath-strict-\u21d2-coderesourcecode"},"Resource.load(descriptor, basePath, strict) \u21d2 ",Object(c.b)("a",{parentName:"h4",href:"#Resource"},Object(c.b)("code",null,"Resource"))),Object(c.b)("p",null,"Factory method to instantiate ",Object(c.b)("inlineCode",{parentName:"p"},"Resource")," class."),Object(c.b)("p",null,"This method is async and it should be used with await keyword or as a ",Object(c.b)("inlineCode",{parentName:"p"},"Promise"),"."),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Returns"),": ",Object(c.b)("a",{parentName:"p",href:"#Resource"},Object(c.b)("code",null,"Resource"))," - returns resource class instance\n",Object(c.b)("strong",{parentName:"p"},"Throws"),":"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("code",null,"DataPackageError")," raises error if something goes wrong")),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",{parentName:"tr",align:null},"Param"),Object(c.b)("th",{parentName:"tr",align:null},"Type"),Object(c.b)("th",{parentName:"tr",align:null},"Description"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",{parentName:"tr",align:null},"descriptor"),Object(c.b)("td",{parentName:"tr",align:null},Object(c.b)("code",null,"string")," ","|"," ",Object(c.b)("code",null,"Object")),Object(c.b)("td",{parentName:"tr",align:null},"resource descriptor as local path, url or object")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",{parentName:"tr",align:null},"basePath"),Object(c.b)("td",{parentName:"tr",align:null},Object(c.b)("code",null,"string")),Object(c.b)("td",{parentName:"tr",align:null},"base path for all relative paths")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",{parentName:"tr",align:null},"strict"),Object(c.b)("td",{parentName:"tr",align:null},Object(c.b)("code",null,"boolean")),Object(c.b)("td",{parentName:"tr",align:null},"strict flag to alter validation behavior.   Setting it to ",Object(c.b)("inlineCode",{parentName:"td"},"true")," leads to throwing errors on   any operation with invalid descriptor")))),Object(c.b)("h3",{id:"profile"},"Profile"),Object(c.b)("p",null,"Profile representation"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#Profile"},"Profile"),Object(c.b)("ul",{parentName:"li"},Object(c.b)("li",{parentName:"ul"},Object(c.b)("em",{parentName:"li"},"instance"),Object(c.b)("ul",{parentName:"li"},Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#Profile+name"},".name")," \u21d2 ",Object(c.b)("code",null,"string")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#Profile+jsonschema"},".jsonschema")," \u21d2 ",Object(c.b)("code",null,"Object")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#Profile+validate"},".validate(descriptor)")," \u21d2 ",Object(c.b)("code",null,"Object")))),Object(c.b)("li",{parentName:"ul"},Object(c.b)("em",{parentName:"li"},"static"),Object(c.b)("ul",{parentName:"li"},Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",{parentName:"li",href:"#Profile.load"},".load(profile)")," \u21d2 ",Object(c.b)("a",{parentName:"li",href:"#Profile"},Object(c.b)("code",null,"Profile")))))))),Object(c.b)("h4",{id:"profilename-\u21d2-string"},"profile.name \u21d2 ",Object(c.b)("code",null,"string")),Object(c.b)("p",null,"Name"),Object(c.b)("h4",{id:"profilejsonschema-\u21d2-object"},"profile.jsonschema \u21d2 ",Object(c.b)("code",null,"Object")),Object(c.b)("p",null,"JsonSchema"),Object(c.b)("h4",{id:"profilevalidatedescriptor-\u21d2-object"},"profile.validate(descriptor) \u21d2 ",Object(c.b)("code",null,"Object")),Object(c.b)("p",null,"Validate a data package ",Object(c.b)("inlineCode",{parentName:"p"},"descriptor")," against the profile."),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Returns"),": ",Object(c.b)("code",null,"Object")," - returns a ",Object(c.b)("inlineCode",{parentName:"p"},"{valid, errors}")," object"),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",{parentName:"tr",align:null},"Param"),Object(c.b)("th",{parentName:"tr",align:null},"Type"),Object(c.b)("th",{parentName:"tr",align:null},"Description"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",{parentName:"tr",align:null},"descriptor"),Object(c.b)("td",{parentName:"tr",align:null},Object(c.b)("code",null,"Object")),Object(c.b)("td",{parentName:"tr",align:null},"retrieved and dereferenced data package descriptor")))),Object(c.b)("h4",{id:"profileloadprofile-\u21d2-codeprofilecode"},"Profile.load(profile) \u21d2 ",Object(c.b)("a",{parentName:"h4",href:"#Profile"},Object(c.b)("code",null,"Profile"))),Object(c.b)("p",null,"Factory method to instantiate ",Object(c.b)("inlineCode",{parentName:"p"},"Profile")," class."),Object(c.b)("p",null,"This method is async and it should be used with await keyword or as a ",Object(c.b)("inlineCode",{parentName:"p"},"Promise"),"."),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Returns"),": ",Object(c.b)("a",{parentName:"p",href:"#Profile"},Object(c.b)("code",null,"Profile"))," - returns profile class instance\n",Object(c.b)("strong",{parentName:"p"},"Throws"),":"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("code",null,"DataPackageError")," raises error if something goes wrong")),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",{parentName:"tr",align:null},"Param"),Object(c.b)("th",{parentName:"tr",align:null},"Type"),Object(c.b)("th",{parentName:"tr",align:null},"Description"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",{parentName:"tr",align:null},"profile"),Object(c.b)("td",{parentName:"tr",align:null},Object(c.b)("code",null,"string")),Object(c.b)("td",{parentName:"tr",align:null},"profile name in registry or URL to JSON Schema")))),Object(c.b)("h3",{id:"validatedescriptor-\u21d2-object"},"validate(descriptor) \u21d2 ",Object(c.b)("code",null,"Object")),Object(c.b)("p",null,"This function is async so it has to be used with ",Object(c.b)("inlineCode",{parentName:"p"},"await")," keyword or as a ",Object(c.b)("inlineCode",{parentName:"p"},"Promise"),"."),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Returns"),": ",Object(c.b)("code",null,"Object")," - returns a ",Object(c.b)("inlineCode",{parentName:"p"},"{valid, errors}")," object"),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",{parentName:"tr",align:null},"Param"),Object(c.b)("th",{parentName:"tr",align:null},"Type"),Object(c.b)("th",{parentName:"tr",align:null},"Description"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",{parentName:"tr",align:null},"descriptor"),Object(c.b)("td",{parentName:"tr",align:null},Object(c.b)("code",null,"string")," ","|"," ",Object(c.b)("code",null,"Object")),Object(c.b)("td",{parentName:"tr",align:null},"data package descriptor (local/remote path or object)")))),Object(c.b)("h3",{id:"inferpattern-\u21d2-object"},"infer(pattern) \u21d2 ",Object(c.b)("code",null,"Object")),Object(c.b)("p",null,"This function is async so it has to be used with ",Object(c.b)("inlineCode",{parentName:"p"},"await")," keyword or as a ",Object(c.b)("inlineCode",{parentName:"p"},"Promise"),"."),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Returns"),": ",Object(c.b)("code",null,"Object")," - returns data package descriptor"),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",{parentName:"tr",align:null},"Param"),Object(c.b)("th",{parentName:"tr",align:null},"Type"),Object(c.b)("th",{parentName:"tr",align:null},"Description"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",{parentName:"tr",align:null},"pattern"),Object(c.b)("td",{parentName:"tr",align:null},Object(c.b)("code",null,"string")),Object(c.b)("td",{parentName:"tr",align:null},"glob file pattern")))),Object(c.b)("h3",{id:"datapackageerror"},"DataPackageError"),Object(c.b)("p",null,"Base class for the all DataPackage errors."),Object(c.b)("h3",{id:"tableschemaerror"},"TableSchemaError"),Object(c.b)("p",null,"Base class for the all TableSchema errors."),Object(c.b)("h2",{id:"contributing"},"Contributing"),Object(c.b)("blockquote",null,Object(c.b)("p",{parentName:"blockquote"},"The project follows the ",Object(c.b)("a",{parentName:"p",href:"https://github.com/okfn/coding-standards"},"Open Knowledge International coding standards"),". There are common commands to work with the project:")),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre"},"$ npm install\n$ npm run test\n$ npm run build\n")),Object(c.b)("h2",{id:"changelog"},"Changelog"),Object(c.b)("p",null,"Here described only breaking and the most important changes. The full changelog and documentation for all released versions could be found in nicely formatted ",Object(c.b)("a",{parentName:"p",href:"https://github.com/frictionlessdata/datapackage-js/commits/master"},"commit history"),"."),Object(c.b)("h4",{id:"v11"},"v1.1"),Object(c.b)("p",null,"Updated behaviour:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"Resource's ",Object(c.b)("inlineCode",{parentName:"li"},"escapeChar")," and ",Object(c.b)("inlineCode",{parentName:"li"},"quoteChar")," are mutually exclusive now")),Object(c.b)("p",null,"New API added:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"Added support of ",Object(c.b)("inlineCode",{parentName:"li"},"zip")," files for data packages"),Object(c.b)("li",{parentName:"ul"},"Added support of ",Object(c.b)("inlineCode",{parentName:"li"},"format/encoding/dialect")," for resources")),Object(c.b)("h4",{id:"v10"},"v1.0"),Object(c.b)("p",null,"This version includes various big changes. A migration guide is under development and will be published here."),Object(c.b)("h4",{id:"v08"},"v0.8"),Object(c.b)("p",null,"First stable version of the library."))}s.isMDXComponent=!0}}]);